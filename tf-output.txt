Terraform planned the following actions, but then encountered a problem:

  # module.azure.data.azapi_resource_id.storage_account_blob_service[0] will be read during apply
  # (config refers to values not yet known)
 <= data "azapi_resource_id" "storage_account_blob_service" {
      + id                  = (known after apply)
      + name                = "default"
      + parent_id           = (known after apply)
      + parts               = (known after apply)
      + provider_namespace  = (known after apply)
      + resource_group_name = (known after apply)
      + resource_id         = (known after apply)
      + subscription_id     = (known after apply)
      + type                = "Microsoft.Storage/storageAccounts/blobServices@2022-09-01"
    }

  # module.azure.azapi_resource.storage_account_container[0] will be created
  + resource "azapi_resource" "storage_account_container" {
      + body                      = {
          + properties = {
              + publicAccess = "None"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + name                      = (known after apply)
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = false
      + sensitive_body            = (write-only attribute)
      + type                      = "Microsoft.Storage/storageAccounts/blobServices/containers@2023-01-01"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azurerm_container_registry.alz[0] will be created
  + resource "azurerm_container_registry" "alz" {
      + admin_enabled                 = false
      + admin_password                = (sensitive value)
      + admin_username                = (known after apply)
      + encryption                    = (known after apply)
      + export_policy_enabled         = true
      + id                            = (known after apply)
      + location                      = "southeastasia"
      + login_server                  = (known after apply)
      + name                          = (known after apply)
      + network_rule_bypass_option    = "AzureServices"
      + network_rule_set              = (known after apply)
      + public_network_access_enabled = false
      + resource_group_name           = (known after apply)
      + sku                           = "Premium"
      + trust_policy_enabled          = false
      + zone_redundancy_enabled       = true
    }

  # module.azure.azurerm_container_registry_task.alz[0] will be created
  + resource "azurerm_container_registry_task" "alz" {
      + container_registry_id = (known after apply)
      + enabled               = true
      + id                    = (known after apply)
      + is_system_task        = false
      + name                  = "image-build-task"
      + timeout_in_seconds    = 3600

      + docker_step {
          + cache_enabled        = true
          + context_access_token = (sensitive value)
          + context_path         = "https://github.com/Azure/terraform-azurerm-avm-ptn-cicd-agents-and-runners#8ff4b85:container-images/github-runner"
          + dockerfile_path      = "dockerfile"
          + image_names          = (known after apply)
          + push_enabled         = true
        }

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + platform {
          + os = "Linux"
        }

      + registry_credential {
          + custom {
              # At least one attribute in this block is (or was) sensitive,
              # so its contents will not be displayed.
            }
        }
    }

  # module.azure.azurerm_container_registry_task_schedule_run_now.alz[0] will be created
  + resource "azurerm_container_registry_task_schedule_run_now" "alz" {
      + container_registry_task_id = (known after apply)
      + id                         = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["cd-apply"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["cd-plan"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["ci-plan"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_nat_gateway.alz[0] will be created
  + resource "azurerm_nat_gateway" "alz" {
      + id                      = (known after apply)
      + idle_timeout_in_minutes = 4
      + location                = "southeastasia"
      + name                    = (known after apply)
      + resource_group_name     = (known after apply)
      + resource_guid           = (known after apply)
      + sku_name                = "Standard"
    }

  # module.azure.azurerm_nat_gateway_public_ip_association.alz[0] will be created
  + resource "azurerm_nat_gateway_public_ip_association" "alz" {
      + id                   = (known after apply)
      + nat_gateway_id       = (known after apply)
      + public_ip_address_id = (known after apply)
    }

  # module.azure.azurerm_private_dns_zone.alz["container_registry"] will be created
  + resource "azurerm_private_dns_zone" "alz" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.azurecr.io"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = (known after apply)

      + soa_record (known after apply)
    }

  # module.azure.azurerm_private_dns_zone.alz["storage_account"] will be created
  + resource "azurerm_private_dns_zone" "alz" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.blob.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = (known after apply)

      + soa_record (known after apply)
    }

  # module.azure.azurerm_private_dns_zone_virtual_network_link.alz["container_registry"] will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "alz" {
      + id                    = (known after apply)
      + name                  = (known after apply)
      + private_dns_zone_name = "privatelink.azurecr.io"
      + registration_enabled  = false
      + resource_group_name   = (known after apply)
      + virtual_network_id    = (known after apply)
    }

  # module.azure.azurerm_private_dns_zone_virtual_network_link.alz["storage_account"] will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "alz" {
      + id                    = (known after apply)
      + name                  = (known after apply)
      + private_dns_zone_name = "privatelink.blob.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = (known after apply)
      + virtual_network_id    = (known after apply)
    }

  # module.azure.azurerm_private_endpoint.alz["container_registry"] will be created
  + resource "azurerm_private_endpoint" "alz" {
      + custom_dns_configs       = (known after apply)
      + id                       = (known after apply)
      + location                 = "southeastasia"
      + name                     = (known after apply)
      + network_interface        = (known after apply)
      + private_dns_zone_configs = (known after apply)
      + resource_group_name      = (known after apply)
      + subnet_id                = (known after apply)

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = (known after apply)
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = (known after apply)
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "registry",
            ]
        }
    }

  # module.azure.azurerm_private_endpoint.alz["storage_account"] will be created
  + resource "azurerm_private_endpoint" "alz" {
      + custom_dns_configs       = (known after apply)
      + id                       = (known after apply)
      + location                 = "southeastasia"
      + name                     = (known after apply)
      + network_interface        = (known after apply)
      + private_dns_zone_configs = (known after apply)
      + resource_group_name      = (known after apply)
      + subnet_id                = (known after apply)

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = (known after apply)
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = (known after apply)
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "blob",
            ]
        }
    }

  # module.azure.azurerm_public_ip.alz[0] will be created
  + resource "azurerm_public_ip" "alz" {
      + allocation_method       = "Static"
      + ddos_protection_mode    = "VirtualNetworkInherited"
      + fqdn                    = (known after apply)
      + id                      = (known after apply)
      + idle_timeout_in_minutes = 4
      + ip_address              = (known after apply)
      + ip_version              = "IPv4"
      + location                = "southeastasia"
      + name                    = (known after apply)
      + resource_group_name     = (known after apply)
      + sku                     = "Standard"
      + sku_tier                = "Regional"
    }

  # module.azure.azurerm_resource_group.agents[0] will be created
  + resource "azurerm_resource_group" "agents" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.identity will be created
  + resource "azurerm_resource_group" "identity" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.network[0] will be created
  + resource "azurerm_resource_group" "network" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.state[0] will be created
  + resource "azurerm_resource_group" "state" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-01d71649-9943-4b0b-a20d-f012fdc62c93"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-deb894b8-43ce-4016-924d-e86796e2479b"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-febe0021-db13-40ad-9ad6-84f8dfe895e1"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply_management_group"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/providers/Microsoft.Management/managementGroups/mg-alz-root"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-01d71649-9943-4b0b-a20d-f012fdc62c93"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-deb894b8-43ce-4016-924d-e86796e2479b"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-febe0021-db13-40ad-9ad6-84f8dfe895e1"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan_management_group"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/providers/Microsoft.Management/managementGroups/mg-alz-root"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_container["apply"] will be created
  + resource "azurerm_role_assignment" "alz_storage_container" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_container["plan"] will be created
  + resource "azurerm_role_assignment" "alz_storage_container" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_reader["apply"] will be created
  + resource "azurerm_role_assignment" "alz_storage_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_reader["plan"] will be created
  + resource "azurerm_role_assignment" "alz_storage_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.container_registry_pull_for_container_instance[0] will be created
  + resource "azurerm_role_assignment" "container_registry_pull_for_container_instance" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPull"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.container_registry_push_for_task[0] will be created
  + resource "azurerm_role_assignment" "container_registry_push_for_task" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPush"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_definition.alz["alz_managment_group_contributor"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Writing the Management Group Structure."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "Microsoft.Management/managementGroups/delete",
              + "Microsoft.Management/managementGroups/read",
              + "Microsoft.Management/managementGroups/subscriptions/delete",
              + "Microsoft.Management/managementGroups/subscriptions/write",
              + "Microsoft.Management/managementGroups/write",
              + "Microsoft.Management/managementGroups/subscriptions/read",
              + "Microsoft.Management/managementGroups/settings/read",
              + "Microsoft.Management/managementGroups/settings/write",
              + "Microsoft.Management/managementGroups/settings/delete",
              + "Microsoft.Authorization/policyDefinitions/write",
              + "Microsoft.Authorization/policySetDefinitions/write",
              + "Microsoft.Authorization/policyAssignments/write",
              + "Microsoft.Authorization/roleDefinitions/write",
              + "Microsoft.Authorization/*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
              + "Microsoft.Authorization/roleAssignments/write",
              + "Microsoft.Authorization/roleAssignments/delete",
              + "Microsoft.Insights/diagnosticSettings/write",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_managment_group_reader"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Reading the Management Group Structure."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "Microsoft.Management/managementGroups/read",
              + "Microsoft.Management/managementGroups/subscriptions/read",
              + "Microsoft.Management/managementGroups/settings/read",
              + "Microsoft.Authorization/*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_subscription_owner"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Writing in platform subscriptions."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "*",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_subscription_reader"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Reading the platform subscriptions."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_storage_account.alz[0] will be created
  + resource "azurerm_storage_account" "alz" {
      + access_tier                        = (known after apply)
      + account_kind                       = "StorageV2"
      + account_replication_type           = "ZRS"
      + account_tier                       = "Standard"
      + allow_nested_items_to_be_public    = false
      + cross_tenant_replication_enabled   = false
      + default_to_oauth_authentication    = false
      + dns_endpoint_type                  = "Standard"
      + https_traffic_only_enabled         = true
      + id                                 = (known after apply)
      + infrastructure_encryption_enabled  = false
      + is_hns_enabled                     = false
      + large_file_share_enabled           = (known after apply)
      + local_user_enabled                 = true
      + location                           = "southeastasia"
      + min_tls_version                    = "TLS1_2"
      + name                               = (known after apply)
      + nfsv3_enabled                      = false
      + primary_access_key                 = (sensitive value)
      + primary_blob_connection_string     = (sensitive value)
      + primary_blob_endpoint              = (known after apply)
      + primary_blob_host                  = (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      + primary_connection_string          = (sensitive value)
      + primary_dfs_endpoint               = (known after apply)
      + primary_dfs_host                   = (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      + primary_file_endpoint              = (known after apply)
      + primary_file_host                  = (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      + primary_location                   = (known after apply)
      + primary_queue_endpoint             = (known after apply)
      + primary_queue_host                 = (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      + primary_table_endpoint             = (known after apply)
      + primary_table_host                 = (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      + primary_web_endpoint               = (known after apply)
      + primary_web_host                   = (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      + public_network_access_enabled      = true
      + queue_encryption_key_type          = "Service"
      + resource_group_name                = (known after apply)
      + secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      + secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      + secondary_location                 = (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      + sftp_enabled                       = false
      + shared_access_key_enabled          = false
      + table_encryption_key_type          = "Service"

      + blob_properties (known after apply)

      + network_rules (known after apply)

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)

      + static_website (known after apply)
    }

  # module.azure.azurerm_storage_account_network_rules.alz[0] will be created
  + resource "azurerm_storage_account_network_rules" "alz" {
      + bypass             = [
          + "None",
        ]
      + default_action     = "Deny"
      + id                 = (known after apply)
      + ip_rules           = [
          + "20.205.181.245",
        ]
      + storage_account_id = (known after apply)
    }

  # module.azure.azurerm_subnet.container_instances[0] will be created
  + resource "azurerm_subnet" "container_instances" {
      + address_prefixes                              = [
          + "10.68.3.0/26",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = (known after apply)
      + private_endpoint_network_policies             = "Enabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = (known after apply)
      + virtual_network_name                          = (known after apply)

      + delegation {
          + name = "aci-delegation"

          + service_delegation {
              + actions = [
                  + "Microsoft.Network/virtualNetworks/subnets/action",
                ]
              + name    = "Microsoft.ContainerInstance/containerGroups"
            }
        }
    }

  # module.azure.azurerm_subnet.private_endpoints[0] will be created
  + resource "azurerm_subnet" "private_endpoints" {
      + address_prefixes                              = [
          + "10.68.3.64/26",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = (known after apply)
      + private_endpoint_network_policies             = "Enabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = (known after apply)
      + virtual_network_name                          = (known after apply)
    }

  # module.azure.azurerm_subnet_nat_gateway_association.container_instances[0] will be created
  + resource "azurerm_subnet_nat_gateway_association" "container_instances" {
      + id             = (known after apply)
      + nat_gateway_id = (known after apply)
      + subnet_id      = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.alz["apply"] will be created
  + resource "azurerm_user_assigned_identity" "alz" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.alz["plan"] will be created
  + resource "azurerm_user_assigned_identity" "alz" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.container_instances[0] will be created
  + resource "azurerm_user_assigned_identity" "container_instances" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_virtual_network.alz[0] will be created
  + resource "azurerm_virtual_network" "alz" {
      + address_space                  = [
          + "10.68.3.0/25",
        ]
      + dns_servers                    = (known after apply)
      + guid                           = (known after apply)
      + id                             = (known after apply)
      + location                       = "southeastasia"
      + name                           = (known after apply)
      + private_endpoint_vnet_policies = "Disabled"
      + resource_group_name            = (known after apply)
      + subnet                         = (known after apply)
    }

  # module.resource_names.random_string.alz will be created
  + resource "random_string" "alz" {
      + id          = (known after apply)
      + length      = 4
      + lower       = true
      + min_lower   = 0
      + min_numeric = 0
      + min_special = 0
      + min_upper   = 0
      + number      = false
      + numeric     = false
      + result      = (known after apply)
      + special     = false
      + upper       = false
    }

  # module.azure.module.regions.modtm_telemetry.telemetry[0] will be created
  + resource "modtm_telemetry" "telemetry" {
      + ephemeral_number = (known after apply)
      + id               = (known after apply)
      + nonce            = (known after apply)
      + tags             = {
          + "module_source"   = "registry.terraform.io/Azure/avm-utl-regions/azurerm"
          + "module_version"  = "0.3.0"
          + "random_id"       = (known after apply)
          + "subscription_id" = "01d71649-9943-4b0b-a20d-f012fdc62c93"
          + "tenant_id"       = "15b69801-7caa-47d0-a4fb-5bbc34728472"
        }
    }

  # module.azure.module.regions.random_uuid.telemetry[0] will be created
  + resource "random_uuid" "telemetry" {
      + id     = (known after apply)
      + result = (known after apply)
    }

Plan: 122 to add, 0 to change, 0 to destroy.

Changes to Outputs:
  + details = {
      + iac_type            = "terraform"
      + starter_module_name = "platform_landing_zone"
    }
?
 Error: GET https://api.bdo.ghe.com/api/v3/orgs/bdo-ext: 403 Resource protected by organization SAML enforcement. You must grant your Personal Access token access to this organization. []

   with module.github.data.github_organization.alz,
   on ..\..\modules\github\data.tf line 1, in data "github_organization" "alz":
    1: data "github_organization" "alz" {

?

Time taken to complete Terraform plan:

Days Hours Minutes Seconds Milliseconds
---- ----- ------- ------- ------------
0    0     1       55      124


Terraform plan for apply failed with exit code 1. Please review the error and try again or raise an issue.
Exception: C:\Users\ITOWAWIN\Documents\PowerShell\Modules\ALZ\4.2.7\Private\Deploy-Accelerator-Helpers\Invoke-Terraform.ps1:89
Line |
  89 |              throw "Terraform plan failed with exit code $exitCode. Pl 
     |              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     | Terraform plan failed with exit code 1. Please review the error and try again or raise an issue.
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32>
PS C:\Windows\System32> Deploy-Accelerator `
>> -inputs "C:\git\bdo-ext\alz-bootstrap-nonprod\config\inputs.yaml", "C:\git\bdo-ext\alz-bootstrap-nonprod\config\platform-landing-zone.tfvars" `
>> -starterAdditionalFiles "C:\git\bdo-ext\alz-bootstrap-nonprod\lib" `
>> -output "C:\git\bdo-ext\alz-bootstrap-nonprod\output"
Checking the software requirements for the Accelerator...

Check Result Check Details
------------ -------------
Success      PowerShell version 7.5.1 is supported.
Success      Git is installed.
Success      Azure environment variables are set and are valid unique GUIDs.
Success      ALZ module is the latest version (4.2.9).


Getting ready to deploy the accelerator with you...

Checking you have the latest version of Terraform installed...

Checking and Downloading the bootstrap module...
The directory for C:\git\bdo-ext\alz-bootstrap-nonprod\output\bootstrap\v4.5.0 already exists and has content in it, so we are not overwriting it.

Checking and downloading the starter module...
The directory for C:\git\bdo-ext\alz-bootstrap-nonprod\output\starter\v6.2.0 already exists and has content in it, so we are not overwriting it.

Thank you for providing those inputs, we are now initializing and applying Terraform to bootstrap your environment...

Once the plan is complete you will be prompted to confirm the apply.
Initializing the backend...
Initializing modules...
Initializing provider plugins...
- Reusing previous version of azure/azapi from the dependency lock file
- Reusing previous version of integrations/github from the dependency lock file
- Reusing previous version of hashicorp/random from the dependency lock file
- Reusing previous version of hashicorp/http from the dependency lock file
- Reusing previous version of hashicorp/azurerm from the dependency lock file
- Reusing previous version of hashicorp/local from the dependency lock file
- Reusing previous version of azure/modtm from the dependency lock file
- Using previously-installed azure/azapi v2.4.0
- Using previously-installed integrations/github v6.6.0
- Using previously-installed hashicorp/random v3.7.2
- Using previously-installed hashicorp/http v3.5.0
- Using previously-installed hashicorp/azurerm v4.30.0
- Using previously-installed hashicorp/local v2.5.3
- Using previously-installed azure/modtm v0.3.5

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.

Terraform init has completed, now running the apply...

Running Plan Command for apply : terraform -chdir=C:\git\bdo-ext\alz-bootstrap-nonprod\output\bootstrap\v4.5.0\alz\github plan -out=tfplan -input=false
module.azure.module.regions.data.modtm_module_source.telemetry[0]: Reading...
module.azure.module.regions.data.modtm_module_source.telemetry[0]: Read complete after 0s
module.azure.data.http.ip[0]: Reading...
module.azure.module.regions.data.azapi_client_config.current: Reading...
module.azure.module.regions.data.azapi_client_config.telemetry[0]: Reading...
module.azure.data.http.ip[0]: Read complete after 0s [id=https://api.ipify.org/]
module.github.data.github_organization.alz: Reading...
module.azure.module.regions.data.azapi_client_config.current: Read complete after 0s [id=clientConfigs/subscriptionId=01d71649-9943-4b0b-a20d-f012fdc62c93;tenantId=15b69801-7caa-47d0-a4fb-5bbc34728472]
module.azure.module.regions.data.azapi_client_config.telemetry[0]: Read complete after 0s [id=clientConfigs/subscriptionId=01d71649-9943-4b0b-a20d-f012fdc62c93;tenantId=15b69801-7caa-47d0-a4fb-5bbc34728472]
module.azure.module.regions.data.azapi_resource_action.locations[0]: Reading...
module.azure.module.regions.data.azapi_resource_action.locations[0]: Read complete after 2s [id=/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93]
module.github.data.github_organization.alz: Read complete after 2s [id=138896]
module.azure.data.azurerm_subscription.alz["deb894b8-43ce-4016-924d-e86796e2479b"]: Reading...
module.azure.data.azurerm_subscription.alz["01d71649-9943-4b0b-a20d-f012fdc62c93"]: Reading...
data.azurerm_client_config.current: Reading...
module.azure.data.azurerm_subscription.alz["febe0021-db13-40ad-9ad6-84f8dfe895e1"]: Reading...
data.azurerm_client_config.current: Read complete after 0s [id=Y2xpZW50Q29uZmlncy9jbGllbnRJZD01OTE1NGU5YS02MzMwLTRmZDktODRmZi0yZDgwMGU3ZWRjNTY7b2JqZWN0SWQ9YTJiOTdhMzYtYTdjNi00M2FlLWEzY2UtMzMyYTI3Mjc0ZjBjO3N1YnNjcmlwdGlvbklkPTAxZDcxNjQ5LTk5NDMtNGIwYi1hMjBkLWYwMTJmZGM2MmM5Mzt0ZW5hbnRJZD0xNWI2OTgwMS03Y2FhLTQ3ZDAtYTRmYi01YmJjMzQ3Mjg0NzI=]
module.azure.data.azurerm_management_group.alz: Reading...
module.azure.data.azurerm_subscription.alz["deb894b8-43ce-4016-924d-e86796e2479b"]: Read complete after 0s [id=/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b]
module.azure.data.azurerm_subscription.alz["febe0021-db13-40ad-9ad6-84f8dfe895e1"]: Read complete after 0s [id=/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1]
module.azure.data.azurerm_management_group.alz: Read complete after 0s [id=/providers/Microsoft.Management/managementGroups/mg-alz-root]
module.azure.data.azurerm_subscription.alz["01d71649-9943-4b0b-a20d-f012fdc62c93"]: Read complete after 1s [id=/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93]

Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
  + create
 <= read (data resources)

Terraform will perform the following actions:

  # module.azure.data.azapi_resource_id.storage_account_blob_service[0] will be read during apply
  # (config refers to values not yet known)
 <= data "azapi_resource_id" "storage_account_blob_service" {
      + id                  = (known after apply)
      + name                = "default"
      + parent_id           = (known after apply)
      + parts               = (known after apply)
      + provider_namespace  = (known after apply)
      + resource_group_name = (known after apply)
      + resource_id         = (known after apply)
      + subscription_id     = (known after apply)
      + type                = "Microsoft.Storage/storageAccounts/blobServices@2022-09-01"
    }

  # module.azure.azapi_resource.storage_account_container[0] will be created
  + resource "azapi_resource" "storage_account_container" {
      + body                      = {
          + properties = {
              + publicAccess = "None"
            }
        }
      + id                        = (known after apply)
      + ignore_casing             = false
      + ignore_missing_property   = true
      + name                      = (known after apply)
      + output                    = (known after apply)
      + parent_id                 = (known after apply)
      + schema_validation_enabled = false
      + sensitive_body            = (write-only attribute)
      + type                      = "Microsoft.Storage/storageAccounts/blobServices/containers@2023-01-01"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["01d71649-9943-4b0b-a20d-f012fdc62c93_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["deb894b8-43ce-4016-924d-e86796e2479b_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Authorization"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Authorization/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Automation"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Automation/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Compute"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Compute/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerInstance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerInstance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerRegistry"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerRegistry/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ContainerService"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ContainerService/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.CostManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CostManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.CustomProviders"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.CustomProviders/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.DataProtection"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.DataProtection/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Maintenance"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Maintenance/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ManagedIdentity"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedIdentity/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.ManagedServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.ManagedServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Management"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Management/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Network"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Network/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.OperationalInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationalInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.OperationsManagement"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.OperationsManagement/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.PolicyInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.PolicyInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.RecoveryServices"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.RecoveryServices/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Resources"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Resources/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Security"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Security/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.SecurityInsights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.SecurityInsights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.Storage"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.Storage/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_Microsoft.StreamAnalytics"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/Microsoft.StreamAnalytics/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azapi_resource_action.resource_provider_registration["febe0021-db13-40ad-9ad6-84f8dfe895e1_microsoft.insights"] will be created
  + resource "azapi_resource_action" "resource_provider_registration" {
      + action           = "providers/microsoft.insights/register"
      + id               = (known after apply)
      + method           = "POST"
      + output           = (known after apply)
      + resource_id      = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + sensitive_output = (sensitive value)
      + type             = "Microsoft.Resources/subscriptions@2021-04-01"
      + when             = "apply"
    }

  # module.azure.azurerm_container_group.alz["agent_01"] will be created
  + resource "azurerm_container_group" "alz" {
      + dns_name_label_reuse_policy = "Unsecure"
      + exposed_port                = (known after apply)
      + fqdn                        = (known after apply)
      + id                          = (known after apply)
      + ip_address                  = (known after apply)
      + ip_address_type             = "Private"
      + location                    = "southeastasia"
      + name                        = (known after apply)
      + network_profile_id          = (known after apply)
      + os_type                     = "Linux"
      + resource_group_name         = (known after apply)
      + restart_policy              = "Always"
      + sku                         = "Standard"
      + subnet_ids                  = (known after apply)
      + zones                       = [
          + "1",
        ]

      + container {
          + commands                     = (known after apply)
          + cpu                          = 2
          + cpu_limit                    = 2
          + environment_variables        = (known after apply)
          + image                        = (known after apply)
          + memory                       = 4
          + memory_limit                 = 4
          + name                         = (known after apply)
          + secure_environment_variables = (sensitive value)

          + ports {
              + port     = 80
              + protocol = "TCP"
            }
        }

      + identity {
          + identity_ids = (known after apply)
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "UserAssigned"
        }

      + image_registry_credential {
          + server                    = (known after apply)
          + user_assigned_identity_id = (known after apply)
        }
    }

  # module.azure.azurerm_container_group.alz["agent_02"] will be created
  + resource "azurerm_container_group" "alz" {
      + dns_name_label_reuse_policy = "Unsecure"
      + exposed_port                = (known after apply)
      + fqdn                        = (known after apply)
      + id                          = (known after apply)
      + ip_address                  = (known after apply)
      + ip_address_type             = "Private"
      + location                    = "southeastasia"
      + name                        = (known after apply)
      + network_profile_id          = (known after apply)
      + os_type                     = "Linux"
      + resource_group_name         = (known after apply)
      + restart_policy              = "Always"
      + sku                         = "Standard"
      + subnet_ids                  = (known after apply)
      + zones                       = [
          + "2",
        ]

      + container {
          + commands                     = (known after apply)
          + cpu                          = 2
          + cpu_limit                    = 2
          + environment_variables        = (known after apply)
          + image                        = (known after apply)
          + memory                       = 4
          + memory_limit                 = 4
          + name                         = (known after apply)
          + secure_environment_variables = (sensitive value)

          + ports {
              + port     = 80
              + protocol = "TCP"
            }
        }

      + identity {
          + identity_ids = (known after apply)
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "UserAssigned"
        }

      + image_registry_credential {
          + server                    = (known after apply)
          + user_assigned_identity_id = (known after apply)
        }
    }

  # module.azure.azurerm_container_registry.alz[0] will be created
  + resource "azurerm_container_registry" "alz" {
      + admin_enabled                 = false
      + admin_password                = (sensitive value)
      + admin_username                = (known after apply)
      + encryption                    = (known after apply)
      + export_policy_enabled         = true
      + id                            = (known after apply)
      + location                      = "southeastasia"
      + login_server                  = (known after apply)
      + name                          = (known after apply)
      + network_rule_bypass_option    = "AzureServices"
      + network_rule_set              = (known after apply)
      + public_network_access_enabled = false
      + resource_group_name           = (known after apply)
      + sku                           = "Premium"
      + trust_policy_enabled          = false
      + zone_redundancy_enabled       = true
    }

  # module.azure.azurerm_container_registry_task.alz[0] will be created
  + resource "azurerm_container_registry_task" "alz" {
      + container_registry_id = (known after apply)
      + enabled               = true
      + id                    = (known after apply)
      + is_system_task        = false
      + name                  = "image-build-task"
      + timeout_in_seconds    = 3600

      + docker_step {
          + cache_enabled        = true
          + context_access_token = (sensitive value)
          + context_path         = "https://github.com/Azure/terraform-azurerm-avm-ptn-cicd-agents-and-runners#8ff4b85:container-images/github-runner"
          + dockerfile_path      = "dockerfile"
          + image_names          = (known after apply)
          + push_enabled         = true
        }

      + identity {
          + principal_id = (known after apply)
          + tenant_id    = (known after apply)
          + type         = "SystemAssigned"
        }

      + platform {
          + os = "Linux"
        }

      + registry_credential {
          + custom {
              # At least one attribute in this block is (or was) sensitive,
              # so its contents will not be displayed.
            }
        }
    }

  # module.azure.azurerm_container_registry_task_schedule_run_now.alz[0] will be created
  + resource "azurerm_container_registry_task_schedule_run_now" "alz" {
      + container_registry_task_id = (known after apply)
      + id                         = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["cd-apply"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["cd-plan"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_federated_identity_credential.alz["ci-plan"] will be created
  + resource "azurerm_federated_identity_credential" "alz" {
      + audience            = [
          + "api://AzureADTokenExchange",
        ]
      + id                  = (known after apply)
      + issuer              = "https://token.actions.githubusercontent.com"
      + name                = (known after apply)
      + parent_id           = (known after apply)
      + resource_group_name = (known after apply)
      + subject             = (known after apply)
    }

  # module.azure.azurerm_nat_gateway.alz[0] will be created
  + resource "azurerm_nat_gateway" "alz" {
      + id                      = (known after apply)
      + idle_timeout_in_minutes = 4
      + location                = "southeastasia"
      + name                    = (known after apply)
      + resource_group_name     = (known after apply)
      + resource_guid           = (known after apply)
      + sku_name                = "Standard"
    }

  # module.azure.azurerm_nat_gateway_public_ip_association.alz[0] will be created
  + resource "azurerm_nat_gateway_public_ip_association" "alz" {
      + id                   = (known after apply)
      + nat_gateway_id       = (known after apply)
      + public_ip_address_id = (known after apply)
    }

  # module.azure.azurerm_private_dns_zone.alz["container_registry"] will be created
  + resource "azurerm_private_dns_zone" "alz" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.azurecr.io"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = (known after apply)

      + soa_record (known after apply)
    }

  # module.azure.azurerm_private_dns_zone.alz["storage_account"] will be created
  + resource "azurerm_private_dns_zone" "alz" {
      + id                                                    = (known after apply)
      + max_number_of_record_sets                             = (known after apply)
      + max_number_of_virtual_network_links                   = (known after apply)
      + max_number_of_virtual_network_links_with_registration = (known after apply)
      + name                                                  = "privatelink.blob.core.windows.net"
      + number_of_record_sets                                 = (known after apply)
      + resource_group_name                                   = (known after apply)

      + soa_record (known after apply)
    }

  # module.azure.azurerm_private_dns_zone_virtual_network_link.alz["container_registry"] will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "alz" {
      + id                    = (known after apply)
      + name                  = (known after apply)
      + private_dns_zone_name = "privatelink.azurecr.io"
      + registration_enabled  = false
      + resource_group_name   = (known after apply)
      + virtual_network_id    = (known after apply)
    }

  # module.azure.azurerm_private_dns_zone_virtual_network_link.alz["storage_account"] will be created
  + resource "azurerm_private_dns_zone_virtual_network_link" "alz" {
      + id                    = (known after apply)
      + name                  = (known after apply)
      + private_dns_zone_name = "privatelink.blob.core.windows.net"
      + registration_enabled  = false
      + resource_group_name   = (known after apply)
      + virtual_network_id    = (known after apply)
    }

  # module.azure.azurerm_private_endpoint.alz["container_registry"] will be created
  + resource "azurerm_private_endpoint" "alz" {
      + custom_dns_configs       = (known after apply)
      + id                       = (known after apply)
      + location                 = "southeastasia"
      + name                     = (known after apply)
      + network_interface        = (known after apply)
      + private_dns_zone_configs = (known after apply)
      + resource_group_name      = (known after apply)
      + subnet_id                = (known after apply)

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = (known after apply)
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = (known after apply)
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "registry",
            ]
        }
    }

  # module.azure.azurerm_private_endpoint.alz["storage_account"] will be created
  + resource "azurerm_private_endpoint" "alz" {
      + custom_dns_configs       = (known after apply)
      + id                       = (known after apply)
      + location                 = "southeastasia"
      + name                     = (known after apply)
      + network_interface        = (known after apply)
      + private_dns_zone_configs = (known after apply)
      + resource_group_name      = (known after apply)
      + subnet_id                = (known after apply)

      + private_dns_zone_group {
          + id                   = (known after apply)
          + name                 = (known after apply)
          + private_dns_zone_ids = (known after apply)
        }

      + private_service_connection {
          + is_manual_connection           = false
          + name                           = (known after apply)
          + private_connection_resource_id = (known after apply)
          + private_ip_address             = (known after apply)
          + subresource_names              = [
              + "blob",
            ]
        }
    }

  # module.azure.azurerm_public_ip.alz[0] will be created
  + resource "azurerm_public_ip" "alz" {
      + allocation_method       = "Static"
      + ddos_protection_mode    = "VirtualNetworkInherited"
      + fqdn                    = (known after apply)
      + id                      = (known after apply)
      + idle_timeout_in_minutes = 4
      + ip_address              = (known after apply)
      + ip_version              = "IPv4"
      + location                = "southeastasia"
      + name                    = (known after apply)
      + resource_group_name     = (known after apply)
      + sku                     = "Standard"
      + sku_tier                = "Regional"
    }

  # module.azure.azurerm_resource_group.agents[0] will be created
  + resource "azurerm_resource_group" "agents" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.identity will be created
  + resource "azurerm_resource_group" "identity" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.network[0] will be created
  + resource "azurerm_resource_group" "network" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_resource_group.state[0] will be created
  + resource "azurerm_resource_group" "state" {
      + id       = (known after apply)
      + location = "southeastasia"
      + name     = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-01d71649-9943-4b0b-a20d-f012fdc62c93"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-deb894b8-43ce-4016-924d-e86796e2479b"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply-alz_subscription_owner-febe0021-db13-40ad-9ad6-84f8dfe895e1"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["apply_management_group"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/providers/Microsoft.Management/managementGroups/mg-alz-root"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-01d71649-9943-4b0b-a20d-f012fdc62c93"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/01d71649-9943-4b0b-a20d-f012fdc62c93"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-deb894b8-43ce-4016-924d-e86796e2479b"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/deb894b8-43ce-4016-924d-e86796e2479b"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan-alz_subscription_reader-febe0021-db13-40ad-9ad6-84f8dfe895e1"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/subscriptions/febe0021-db13-40ad-9ad6-84f8dfe895e1"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz["plan_management_group"] will be created
  + resource "azurerm_role_assignment" "alz" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = (known after apply)
      + scope                            = "/providers/Microsoft.Management/managementGroups/mg-alz-root"
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_container["apply"] will be created
  + resource "azurerm_role_assignment" "alz_storage_container" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_container["plan"] will be created
  + resource "azurerm_role_assignment" "alz_storage_container" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Storage Blob Data Owner"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_reader["apply"] will be created
  + resource "azurerm_role_assignment" "alz_storage_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.alz_storage_reader["plan"] will be created
  + resource "azurerm_role_assignment" "alz_storage_reader" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "Reader"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.container_registry_pull_for_container_instance[0] will be created
  + resource "azurerm_role_assignment" "container_registry_pull_for_container_instance" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPull"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_assignment.container_registry_push_for_task[0] will be created
  + resource "azurerm_role_assignment" "container_registry_push_for_task" {
      + condition_version                = (known after apply)
      + id                               = (known after apply)
      + name                             = (known after apply)
      + principal_id                     = (known after apply)
      + principal_type                   = (known after apply)
      + role_definition_id               = (known after apply)
      + role_definition_name             = "AcrPush"
      + scope                            = (known after apply)
      + skip_service_principal_aad_check = (known after apply)
    }

  # module.azure.azurerm_role_definition.alz["alz_managment_group_contributor"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Writing the Management Group Structure."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "Microsoft.Management/managementGroups/delete",
              + "Microsoft.Management/managementGroups/read",
              + "Microsoft.Management/managementGroups/subscriptions/delete",
              + "Microsoft.Management/managementGroups/subscriptions/write",
              + "Microsoft.Management/managementGroups/write",
              + "Microsoft.Management/managementGroups/subscriptions/read",
              + "Microsoft.Management/managementGroups/settings/read",
              + "Microsoft.Management/managementGroups/settings/write",
              + "Microsoft.Management/managementGroups/settings/delete",
              + "Microsoft.Authorization/policyDefinitions/write",
              + "Microsoft.Authorization/policySetDefinitions/write",
              + "Microsoft.Authorization/policyAssignments/write",
              + "Microsoft.Authorization/roleDefinitions/write",
              + "Microsoft.Authorization/*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
              + "Microsoft.Authorization/roleAssignments/write",
              + "Microsoft.Authorization/roleAssignments/delete",
              + "Microsoft.Insights/diagnosticSettings/write",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_managment_group_reader"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Reading the Management Group Structure."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "Microsoft.Management/managementGroups/read",
              + "Microsoft.Management/managementGroups/subscriptions/read",
              + "Microsoft.Management/managementGroups/settings/read",
              + "Microsoft.Authorization/*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_subscription_owner"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Writing in platform subscriptions."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "*",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_role_definition.alz["alz_subscription_reader"] will be created
  + resource "azurerm_role_definition" "alz" {
      + assignable_scopes           = (known after apply)
      + description                 = "This is a custom role created by the Azure Landing Zones Accelerator for Reading the platform subscriptions."
      + id                          = (known after apply)
      + name                        = (known after apply)
      + role_definition_id          = (known after apply)
      + role_definition_resource_id = (known after apply)
      + scope                       = "/providers/Microsoft.Management/managementGroups/mg-alz-root"

      + permissions {
          + actions     = [
              + "*/read",
              + "Microsoft.Resources/deployments/write",
              + "Microsoft.Resources/deployments/exportTemplate/action",
            ]
          + not_actions = []
        }
    }

  # module.azure.azurerm_storage_account.alz[0] will be created
  + resource "azurerm_storage_account" "alz" {
      + access_tier                        = (known after apply)
      + account_kind                       = "StorageV2"
      + account_replication_type           = "ZRS"
      + account_tier                       = "Standard"
      + allow_nested_items_to_be_public    = false
      + cross_tenant_replication_enabled   = false
      + default_to_oauth_authentication    = false
      + dns_endpoint_type                  = "Standard"
      + https_traffic_only_enabled         = true
      + id                                 = (known after apply)
      + infrastructure_encryption_enabled  = false
      + is_hns_enabled                     = false
      + large_file_share_enabled           = (known after apply)
      + local_user_enabled                 = true
      + location                           = "southeastasia"
      + min_tls_version                    = "TLS1_2"
      + name                               = (known after apply)
      + nfsv3_enabled                      = false
      + primary_access_key                 = (sensitive value)
      + primary_blob_connection_string     = (sensitive value)
      + primary_blob_endpoint              = (known after apply)
      + primary_blob_host                  = (known after apply)
      + primary_blob_internet_endpoint     = (known after apply)
      + primary_blob_internet_host         = (known after apply)
      + primary_blob_microsoft_endpoint    = (known after apply)
      + primary_blob_microsoft_host        = (known after apply)
      + primary_connection_string          = (sensitive value)
      + primary_dfs_endpoint               = (known after apply)
      + primary_dfs_host                   = (known after apply)
      + primary_dfs_internet_endpoint      = (known after apply)
      + primary_dfs_internet_host          = (known after apply)
      + primary_dfs_microsoft_endpoint     = (known after apply)
      + primary_dfs_microsoft_host         = (known after apply)
      + primary_file_endpoint              = (known after apply)
      + primary_file_host                  = (known after apply)
      + primary_file_internet_endpoint     = (known after apply)
      + primary_file_internet_host         = (known after apply)
      + primary_file_microsoft_endpoint    = (known after apply)
      + primary_file_microsoft_host        = (known after apply)
      + primary_location                   = (known after apply)
      + primary_queue_endpoint             = (known after apply)
      + primary_queue_host                 = (known after apply)
      + primary_queue_microsoft_endpoint   = (known after apply)
      + primary_queue_microsoft_host       = (known after apply)
      + primary_table_endpoint             = (known after apply)
      + primary_table_host                 = (known after apply)
      + primary_table_microsoft_endpoint   = (known after apply)
      + primary_table_microsoft_host       = (known after apply)
      + primary_web_endpoint               = (known after apply)
      + primary_web_host                   = (known after apply)
      + primary_web_internet_endpoint      = (known after apply)
      + primary_web_internet_host          = (known after apply)
      + primary_web_microsoft_endpoint     = (known after apply)
      + primary_web_microsoft_host         = (known after apply)
      + public_network_access_enabled      = true
      + queue_encryption_key_type          = "Service"
      + resource_group_name                = (known after apply)
      + secondary_access_key               = (sensitive value)
      + secondary_blob_connection_string   = (sensitive value)
      + secondary_blob_endpoint            = (known after apply)
      + secondary_blob_host                = (known after apply)
      + secondary_blob_internet_endpoint   = (known after apply)
      + secondary_blob_internet_host       = (known after apply)
      + secondary_blob_microsoft_endpoint  = (known after apply)
      + secondary_blob_microsoft_host      = (known after apply)
      + secondary_connection_string        = (sensitive value)
      + secondary_dfs_endpoint             = (known after apply)
      + secondary_dfs_host                 = (known after apply)
      + secondary_dfs_internet_endpoint    = (known after apply)
      + secondary_dfs_internet_host        = (known after apply)
      + secondary_dfs_microsoft_endpoint   = (known after apply)
      + secondary_dfs_microsoft_host       = (known after apply)
      + secondary_file_endpoint            = (known after apply)
      + secondary_file_host                = (known after apply)
      + secondary_file_internet_endpoint   = (known after apply)
      + secondary_file_internet_host       = (known after apply)
      + secondary_file_microsoft_endpoint  = (known after apply)
      + secondary_file_microsoft_host      = (known after apply)
      + secondary_location                 = (known after apply)
      + secondary_queue_endpoint           = (known after apply)
      + secondary_queue_host               = (known after apply)
      + secondary_queue_microsoft_endpoint = (known after apply)
      + secondary_queue_microsoft_host     = (known after apply)
      + secondary_table_endpoint           = (known after apply)
      + secondary_table_host               = (known after apply)
      + secondary_table_microsoft_endpoint = (known after apply)
      + secondary_table_microsoft_host     = (known after apply)
      + secondary_web_endpoint             = (known after apply)
      + secondary_web_host                 = (known after apply)
      + secondary_web_internet_endpoint    = (known after apply)
      + secondary_web_internet_host        = (known after apply)
      + secondary_web_microsoft_endpoint   = (known after apply)
      + secondary_web_microsoft_host       = (known after apply)
      + sftp_enabled                       = false
      + shared_access_key_enabled          = false
      + table_encryption_key_type          = "Service"

      + blob_properties (known after apply)

      + network_rules (known after apply)

      + queue_properties (known after apply)

      + routing (known after apply)

      + share_properties (known after apply)

      + static_website (known after apply)
    }

  # module.azure.azurerm_storage_account_network_rules.alz[0] will be created
  + resource "azurerm_storage_account_network_rules" "alz" {
      + bypass             = [
          + "None",
        ]
      + default_action     = "Deny"
      + id                 = (known after apply)
      + ip_rules           = [
          + "20.205.181.245",
        ]
      + storage_account_id = (known after apply)
    }

  # module.azure.azurerm_subnet.container_instances[0] will be created
  + resource "azurerm_subnet" "container_instances" {
      + address_prefixes                              = [
          + "10.68.3.0/26",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = (known after apply)
      + private_endpoint_network_policies             = "Enabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = (known after apply)
      + virtual_network_name                          = (known after apply)

      + delegation {
          + name = "aci-delegation"

          + service_delegation {
              + actions = [
                  + "Microsoft.Network/virtualNetworks/subnets/action",
                ]
              + name    = "Microsoft.ContainerInstance/containerGroups"
            }
        }
    }

  # module.azure.azurerm_subnet.private_endpoints[0] will be created
  + resource "azurerm_subnet" "private_endpoints" {
      + address_prefixes                              = [
          + "10.68.3.64/26",
        ]
      + default_outbound_access_enabled               = true
      + id                                            = (known after apply)
      + name                                          = (known after apply)
      + private_endpoint_network_policies             = "Enabled"
      + private_link_service_network_policies_enabled = true
      + resource_group_name                           = (known after apply)
      + virtual_network_name                          = (known after apply)
    }

  # module.azure.azurerm_subnet_nat_gateway_association.container_instances[0] will be created
  + resource "azurerm_subnet_nat_gateway_association" "container_instances" {
      + id             = (known after apply)
      + nat_gateway_id = (known after apply)
      + subnet_id      = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.alz["apply"] will be created
  + resource "azurerm_user_assigned_identity" "alz" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.alz["plan"] will be created
  + resource "azurerm_user_assigned_identity" "alz" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_user_assigned_identity.container_instances[0] will be created
  + resource "azurerm_user_assigned_identity" "container_instances" {
      + client_id           = (known after apply)
      + id                  = (known after apply)
      + location            = "southeastasia"
      + name                = (known after apply)
      + principal_id        = (known after apply)
      + resource_group_name = (known after apply)
      + tenant_id           = (known after apply)
    }

  # module.azure.azurerm_virtual_network.alz[0] will be created
  + resource "azurerm_virtual_network" "alz" {
      + address_space                  = [
          + "10.68.3.0/25",
        ]
      + dns_servers                    = (known after apply)
      + guid                           = (known after apply)
      + id                             = (known after apply)
      + location                       = "southeastasia"
      + name                           = (known after apply)
      + private_endpoint_vnet_policies = "Disabled"
      + resource_group_name            = (known after apply)
      + subnet                         = (known after apply)
    }

  # module.github.github_actions_environment_variable.azure_plan_client_id["apply"] will be created
  + resource "github_actions_environment_variable" "azure_plan_client_id" {
      + created_at    = (known after apply)
      + environment   = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = (known after apply)
      + variable_name = "AZURE_CLIENT_ID"
    }

  # module.github.github_actions_environment_variable.azure_plan_client_id["plan"] will be created
  + resource "github_actions_environment_variable" "azure_plan_client_id" {
      + created_at    = (known after apply)
      + environment   = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = (known after apply)
      + variable_name = "AZURE_CLIENT_ID"
    }

  # module.github.github_actions_repository_access_level.alz_templates[0] will be created
  + resource "github_actions_repository_access_level" "alz_templates" {
      + access_level = "organization"
      + id           = (known after apply)
      + repository   = (known after apply)
    }

  # module.github.github_actions_repository_oidc_subject_claim_customization_template.alz will be created
  + resource "github_actions_repository_oidc_subject_claim_customization_template" "alz" {
      + id                 = (known after apply)
      + include_claim_keys = [
          + "repository",
          + "environment",
          + "job_workflow_ref",
        ]
      + repository         = (known after apply)
      + use_default        = false
    }

  # module.github.github_actions_runner_group.alz[0] will be created
  + resource "github_actions_runner_group" "alz" {
      + allows_public_repositories = false
      + default                    = (known after apply)
      + etag                       = (known after apply)
      + id                         = (known after apply)
      + inherited                  = (known after apply)
      + name                       = (known after apply)
      + restricted_to_workflows    = false
      + runners_url                = (known after apply)
      + selected_repositories_url  = (known after apply)
      + selected_repository_ids    = (known after apply)
      + visibility                 = "selected"
    }

  # module.github.github_actions_variable.azure_subscription_id will be created
  + resource "github_actions_variable" "azure_subscription_id" {
      + created_at    = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = "01d71649-9943-4b0b-a20d-f012fdc62c93"
      + variable_name = "AZURE_SUBSCRIPTION_ID"
    }

  # module.github.github_actions_variable.azure_tenant_id will be created
  + resource "github_actions_variable" "azure_tenant_id" {
      + created_at    = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = "15b69801-7caa-47d0-a4fb-5bbc34728472"
      + variable_name = "AZURE_TENANT_ID"
    }

  # module.github.github_actions_variable.backend_azure_resource_group_name will be created
  + resource "github_actions_variable" "backend_azure_resource_group_name" {
      + created_at    = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = (known after apply)
      + variable_name = "BACKEND_AZURE_RESOURCE_GROUP_NAME"
    }

  # module.github.github_actions_variable.backend_azure_storage_account_container_name will be created
  + resource "github_actions_variable" "backend_azure_storage_account_container_name" {
      + created_at    = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = (known after apply)
      + variable_name = "BACKEND_AZURE_STORAGE_ACCOUNT_CONTAINER_NAME"
    }

  # module.github.github_actions_variable.backend_azure_storage_account_name will be created
  + resource "github_actions_variable" "backend_azure_storage_account_name" {
      + created_at    = (known after apply)
      + id            = (known after apply)
      + repository    = (known after apply)
      + updated_at    = (known after apply)
      + value         = (known after apply)
      + variable_name = "BACKEND_AZURE_STORAGE_ACCOUNT_NAME"
    }

  # module.github.github_repository.alz will be created
  + resource "github_repository" "alz" {
      + allow_auto_merge            = false
      + allow_merge_commit          = false
      + allow_rebase_merge          = false
      + allow_squash_merge          = true
      + allow_update_branch         = true
      + archived                    = false
      + auto_init                   = true
      + default_branch              = (known after apply)
      + delete_branch_on_merge      = false
      + description                 = (known after apply)
      + etag                        = (known after apply)
      + full_name                   = (known after apply)
      + git_clone_url               = (known after apply)
      + html_url                    = (known after apply)
      + http_clone_url              = (known after apply)
      + id                          = (known after apply)
      + merge_commit_message        = "PR_TITLE"
      + merge_commit_title          = "MERGE_MESSAGE"
      + name                        = (known after apply)
      + node_id                     = (known after apply)
      + primary_language            = (known after apply)
      + private                     = (known after apply)
      + repo_id                     = (known after apply)
      + squash_merge_commit_message = "COMMIT_MESSAGES"
      + squash_merge_commit_title   = "COMMIT_OR_PR_TITLE"
      + ssh_clone_url               = (known after apply)
      + svn_url                     = (known after apply)
      + topics                      = (known after apply)
      + visibility                  = "private"
      + vulnerability_alerts        = true
      + web_commit_signoff_required = false

      + security_and_analysis (known after apply)
    }

  # module.github.github_repository.alz_templates[0] will be created
  + resource "github_repository" "alz_templates" {
      + allow_auto_merge            = false
      + allow_merge_commit          = false
      + allow_rebase_merge          = false
      + allow_squash_merge          = true
      + allow_update_branch         = true
      + archived                    = false
      + auto_init                   = true
      + default_branch              = (known after apply)
      + delete_branch_on_merge      = false
      + description                 = (known after apply)
      + etag                        = (known after apply)
      + full_name                   = (known after apply)
      + git_clone_url               = (known after apply)
      + html_url                    = (known after apply)
      + http_clone_url              = (known after apply)
      + id                          = (known after apply)
      + merge_commit_message        = "PR_TITLE"
      + merge_commit_title          = "MERGE_MESSAGE"
      + name                        = (known after apply)
      + node_id                     = (known after apply)
      + primary_language            = (known after apply)
      + private                     = (known after apply)
      + repo_id                     = (known after apply)
      + squash_merge_commit_message = "COMMIT_MESSAGES"
      + squash_merge_commit_title   = "COMMIT_OR_PR_TITLE"
      + ssh_clone_url               = (known after apply)
      + svn_url                     = (known after apply)
      + topics                      = (known after apply)
      + visibility                  = "private"
      + vulnerability_alerts        = true
      + web_commit_signoff_required = false

      + security_and_analysis (known after apply)
    }

  # module.github.github_repository_environment.alz["apply"] will be created
  + resource "github_repository_environment" "alz" {
      + can_admins_bypass   = true
      + environment         = (known after apply)
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = (known after apply)

      + deployment_branch_policy {
          + custom_branch_policies = false
          + protected_branches     = true
        }

      + reviewers {
          + teams = (known after apply)
        }
    }

  # module.github.github_repository_environment.alz["plan"] will be created
  + resource "github_repository_environment" "alz" {
      + can_admins_bypass   = true
      + environment         = (known after apply)
      + id                  = (known after apply)
      + prevent_self_review = false
      + repository          = (known after apply)
    }

  # module.github.github_repository_file.alz[".github/workflows/cd.yaml"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add .github/workflows/cd.yaml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = (known after apply)
      + file                         = ".github/workflows/cd.yaml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz[".github/workflows/ci.yaml"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add .github/workflows/ci.yaml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = (known after apply)
      + file                         = ".github/workflows/ci.yaml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz[".gitignore"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add .gitignore [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            # Local .terraform directories
            .terraform/

            # .tfstate files
            *.tfstate
            *.tfstate.*

            # Crash log files
            crash.log
            crash.*.log

            # Exclude all .tfvars files, which are likely to contain sensitive data, such as
            # password, private keys, and other secrets. These should not be part of version
            # control as they are data points which are potentially sensitive and subject
            # to change depending on the environment.
            #*.tfvars
            #*.tfvars.json

            # Ignore override files as they are usually used to override resources locally and so
            # are not checked in
            override.tf
            override.tf.json
            *_override.tf
            *_override.tf.json

            # Ignore transient lock info files created by terraform apply
            .terraform.tfstate.lock.info

            # Include override files you do wish to add to version control using negated pattern
            # !example_override.tf

            # Include tfplan files to ignore the plan output of command: terraform plan -out=tfplan
            # example: *tfplan*

            # Ignore CLI configuration files
            .terraformrc
            terraform.rc

            # Ignore ALZ Specific Terraform files
            .terraform.lock.hcl

            # Ignore ALZ Specific files and folders
            .alzlib

            # Ignore ALZ Migration specific files and folders
            tfplan
            tfplan.json
            resources.json
            issues.json
            issues.csv
        EOT
      + file                         = ".gitignore"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["README.md"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add README.md [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            # Azure Landing Zones Accelerator Starter Module for Terraform - Azure Verified Modules Complete Multi-Region

            This module is part of the Azure Landing Zones Accelerator solution. It is a complete multi-region implementation of the Azure Landing Zones Platform Landing Zone for Terraform.

            It deploys a hub and spoke virtual network or Virtual WAN architecture across multiple regions.

            The module deploys the following resources:

            - Management group hierarchy
            - Azure Policy definitions and assignments
            - Role definitions
            - Management resources, including Log Analytics workspace and Automation account
            - Hub and spoke virtual network or Virtual WAN architecture across multiple regions
            - DDOS protection plan
            - Private DNS zones

            ## Usage

            The module is intended to be used with the [Azure Landing Zones Accelerator](https://aka.ms/alz/acc). Head over there to get started.

            >NOTE: The module can be used independently if needed. Example `tfvars` files can be found in the `examples` directory for that use case.

            ### Running Directly

            #### Run the local examples

            Create a `terraform.tfvars` file in the root of the module directory with the following content, replacing the placeholders with the actual values:

            ```hcl
            starter_locations            = ["uksouth", "ukwest"]
            subscription_id_connectivity = "00000000-0000-0000-0000-000000000000"
            subscription_id_identity     = "00000000-0000-0000-0000-000000000000"
            subscription_id_management   = "00000000-0000-0000-0000-000000000000"
            ```

            ##### Hub and Spoke Virtual Networks Multi Region

            ```powershell
            terraform init
            terraform apply -var-file ./examples/full-multi-region/hub-and-spoke-vnet.tfvars
            ```

            ##### Virtual WAN Multi Region

            ```powershell
            terraform init
            terraform apply -var-file ./examples/full-multi-region/virtual-wan.tfvars
            ```
        EOT
      + file                         = "README.md"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/alz_library_metadata.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/alz_library_metadata.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"    = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/library_metadata.json"
              + dependencies = [
                  + {
                      + path = "platform/alz"
                      + ref  = "2025.02.0"
                    },
                ]
              + description  = "This library allows overriding policies, archetypes, and management group architecture in the ALZ Accelerator."
              + display_name = "ALZ Accelerator - Azure Verified Modules for ALZ Platform Landing Zone"
              + name         = "local"
            }
        )
      + file                         = "lib/alz_library_metadata.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_dev_workload.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_dev_workload.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_dev_workload"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_dev_workload.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_landing_zones_dev.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_landing_zones_dev.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_landing_zones_dev"
              + policy_assignments     = [
                  + "Audit-AppGW-WAF",
                  + "Deny-IP-forwarding",
                  + "Deny-MgmtPorts-Internet",
                  + "Deny-Priv-Esc-AKS",
                  + "Deny-Privileged-AKS",
                  + "Deny-Storage-http",
                  + "Deny-Subnet-Without-Nsg",
                  + "Deploy-AzSqlDb-Auditing",
                  + "Deploy-MDFC-DefSQL-AMA",
                  + "Deploy-SQL-TDE",
                  + "Deploy-SQL-Threat",
                  + "Deploy-VM-Backup",
                  + "Deploy-VM-ChangeTrack",
                  + "Deploy-VM-Monitoring",
                  + "Deploy-VMSS-ChangeTrack",
                  + "Deploy-VMSS-Monitoring",
                  + "Enable-AUM-CheckUpdates",
                  + "Enable-DDoS-VNET",
                  + "Enforce-AKS-HTTPS",
                  + "Enforce-ASR",
                  + "Enforce-GR-KeyVault",
                  + "Enforce-Subnet-Private",
                  + "Enforce-TLS-SSL-Q225",
                  + "Audit-PeDnsZones",
                  + "Deny-HybridNetworking",
                  + "Deny-Public-Endpoints",
                  + "Deny-Public-IP-On-NIC",
                  + "Deploy-Private-DNS-Zones",
                  + "Enforce-Fsi-Conf",
                ]
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_landing_zones_dev.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_landing_zones_ppd.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_landing_zones_ppd.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_landing_zones_ppd"
              + policy_assignments     = [
                  + "Audit-AppGW-WAF",
                  + "Deny-IP-forwarding",
                  + "Deny-MgmtPorts-Internet",
                  + "Deny-Priv-Esc-AKS",
                  + "Deny-Privileged-AKS",
                  + "Deny-Storage-http",
                  + "Deny-Subnet-Without-Nsg",
                  + "Deploy-AzSqlDb-Auditing",
                  + "Deploy-MDFC-DefSQL-AMA",
                  + "Deploy-SQL-TDE",
                  + "Deploy-SQL-Threat",
                  + "Deploy-VM-Backup",
                  + "Deploy-VM-ChangeTrack",
                  + "Deploy-VM-Monitoring",
                  + "Deploy-VMSS-ChangeTrack",
                  + "Deploy-VMSS-Monitoring",
                  + "Enable-AUM-CheckUpdates",
                  + "Enable-DDoS-VNET",
                  + "Enforce-AKS-HTTPS",
                  + "Enforce-ASR",
                  + "Enforce-GR-KeyVault",
                  + "Enforce-Subnet-Private",
                  + "Enforce-TLS-SSL-Q225",
                  + "Audit-PeDnsZones",
                  + "Deny-HybridNetworking",
                  + "Deny-Public-Endpoints",
                  + "Deny-Public-IP-On-NIC",
                  + "Deploy-Private-DNS-Zones",
                  + "Enforce-Fsi-Conf",
                ]
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_landing_zones_ppd.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_landing_zones_sit.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_landing_zones_sit.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_landing_zones_sit"
              + policy_assignments     = [
                  + "Audit-AppGW-WAF",
                  + "Deny-IP-forwarding",
                  + "Deny-MgmtPorts-Internet",
                  + "Deny-Priv-Esc-AKS",
                  + "Deny-Privileged-AKS",
                  + "Deny-Storage-http",
                  + "Deny-Subnet-Without-Nsg",
                  + "Deploy-AzSqlDb-Auditing",
                  + "Deploy-MDFC-DefSQL-AMA",
                  + "Deploy-SQL-TDE",
                  + "Deploy-SQL-Threat",
                  + "Deploy-VM-Backup",
                  + "Deploy-VM-ChangeTrack",
                  + "Deploy-VM-Monitoring",
                  + "Deploy-VMSS-ChangeTrack",
                  + "Deploy-VMSS-Monitoring",
                  + "Enable-AUM-CheckUpdates",
                  + "Enable-DDoS-VNET",
                  + "Enforce-AKS-HTTPS",
                  + "Enforce-ASR",
                  + "Enforce-GR-KeyVault",
                  + "Enforce-Subnet-Private",
                  + "Enforce-TLS-SSL-Q225",
                  + "Audit-PeDnsZones",
                  + "Deny-HybridNetworking",
                  + "Deny-Public-Endpoints",
                  + "Deny-Public-IP-On-NIC",
                  + "Deploy-Private-DNS-Zones",
                  + "Enforce-Fsi-Conf",
                ]
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_landing_zones_sit.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_landing_zones_uat.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_landing_zones_uat.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_landing_zones_uat"
              + policy_assignments     = [
                  + "Audit-AppGW-WAF",
                  + "Deny-IP-forwarding",
                  + "Deny-MgmtPorts-Internet",
                  + "Deny-Priv-Esc-AKS",
                  + "Deny-Privileged-AKS",
                  + "Deny-Storage-http",
                  + "Deny-Subnet-Without-Nsg",
                  + "Deploy-AzSqlDb-Auditing",
                  + "Deploy-MDFC-DefSQL-AMA",
                  + "Deploy-SQL-TDE",
                  + "Deploy-SQL-Threat",
                  + "Deploy-VM-Backup",
                  + "Deploy-VM-ChangeTrack",
                  + "Deploy-VM-Monitoring",
                  + "Deploy-VMSS-ChangeTrack",
                  + "Deploy-VMSS-Monitoring",
                  + "Enable-AUM-CheckUpdates",
                  + "Enable-DDoS-VNET",
                  + "Enforce-AKS-HTTPS",
                  + "Enforce-ASR",
                  + "Enforce-GR-KeyVault",
                  + "Enforce-Subnet-Private",
                  + "Enforce-TLS-SSL-Q225",
                  + "Audit-PeDnsZones",
                  + "Deny-HybridNetworking",
                  + "Deny-Public-Endpoints",
                  + "Deny-Public-IP-On-NIC",
                  + "Deploy-Private-DNS-Zones",
                  + "Enforce-Fsi-Conf",
                ]
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_landing_zones_uat.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_ppd_workload.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_ppd_workload.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_ppd_workload"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_ppd_workload.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_security.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_security.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_security"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_security.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_sit_workload.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_sit_workload.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_sit_workload"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_sit_workload.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_uat_workload.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_uat_workload.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_uat_workload"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_uat_workload.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_definitions/npd_vendor.alz_archetype_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_definitions/npd_vendor.alz_archetype_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"              = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/archetype_definition.json"
              + name                   = "npd_vendor"
              + policy_assignments     = []
              + policy_definitions     = []
              + policy_set_definitions = []
              + role_definitions       = []
            }
        )
      + file                         = "lib/archetype_definitions/npd_vendor.alz_archetype_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_override/platform.alz_archetype_override.yml"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_override/platform.alz_archetype_override.yml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            name: "platform_override"
            base_archetype: "platform"
            policy_assignments_to_add: []
            policy_assignments_to_remove: ["Deploy-vmArc-ChangeTrack", "Deploy-vmHybr-Monitoring"]
            policy_definitions_to_add: []
            policy_definitions_to_remove: []
            policy_set_definitions_to_add: []
            policy_set_definitions_to_remove: []
            role_definitions_to_add: []
            role_definitions_to_remove: []
        EOT
      + file                         = "lib/archetype_override/platform.alz_archetype_override.yml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/archetype_override/root.alz_archetype_override.yml"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/archetype_override/root.alz_archetype_override.yml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            name: "root_override"
            base_archetype: "root"
            policy_assignments_to_add: ["RE-01-Zonal-Residency", "SO-01-Data-Residency", "SO-04-CMK", "TR-01-Logging"]
            policy_assignments_to_remove: ["Deploy-MDEndpoints"]
            policy_definitions_to_add: []
            policy_definitions_to_remove: []
            policy_set_definitions_to_add: ["50e4abe0-fc74-4546-9bd4-070ad748670b", "d22ea5a9-2a46-4f25-8d11-e8ef42769e46"]
            policy_set_definitions_to_remove: []
            role_definitions_to_add: []
            role_definitions_to_remove: []
        EOT
      + file                         = "lib/archetype_override/root.alz_archetype_override.yml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/architecture_definitions/alz.alz_architecture_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/architecture_definitions/alz.alz_architecture_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + "$schema"         = "https://raw.githubusercontent.com/Azure/Azure-Landing-Zones-Library/main/schemas/architecture_definition.json"
              + management_groups = [
                  + {
                      + archetypes   = [
                          + "root_override",
                        ]
                      + display_name = "mg-alz-root-npd"
                      + exists       = false
                      + id           = "mg-alz-root-npd"
                      + parent_id    = null
                    },
                  + {
                      + archetypes   = [
                          + "platform_override",
                        ]
                      + display_name = "mg-platform-npd"
                      + exists       = false
                      + id           = "mg-platform-npd"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "management",
                        ]
                      + display_name = "mg-platform-management-npd"
                      + exists       = false
                      + id           = "mg-platform-management-npd"
                      + parent_id    = "mg-platform-npd"
                    },
                  + {
                      + archetypes   = [
                          + "connectivity",
                        ]
                      + display_name = "mg-platform-connectivity-npd"
                      + exists       = false
                      + id           = "mg-platform-connectivity-npd"
                      + parent_id    = "mg-platform-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_security",
                        ]
                      + display_name = "mg-platform-security-npd"
                      + exists       = false
                      + id           = "mg-platform-security-npd"
                      + parent_id    = "mg-platform-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_landing_zones_dev",
                        ]
                      + display_name = "mg-landingzones-dev"
                      + exists       = false
                      + id           = "mg-landingzones-dev"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_dev_workload",
                        ]
                      + display_name = "mg-lz-workload-dev"
                      + exists       = false
                      + id           = "mg-lz-workload-dev"
                      + parent_id    = "mg-landingzones-dev"
                    },
                  + {
                      + archetypes   = [
                          + "npd_dev_workload",
                        ]
                      + display_name = "mg-lz-commonplatform-dev"
                      + exists       = false
                      + id           = "mg-lz-commonplatform-dev"
                      + parent_id    = "mg-landingzones-dev"
                    },
                  + {
                      + archetypes   = [
                          + "npd_dev_workload",
                        ]
                      + display_name = "mg-lz-sharedinfra-dev"
                      + exists       = false
                      + id           = "mg-lz-sharedinfra-dev"
                      + parent_id    = "mg-landingzones-dev"
                    },
                  + {
                      + archetypes   = [
                          + "npd_dev_workload",
                        ]
                      + display_name = "mg-lz-toolchain-dev"
                      + exists       = false
                      + id           = "mg-lz-toolchain-dev"
                      + parent_id    = "mg-landingzones-dev"
                    },
                  + {
                      + archetypes   = [
                          + "npd_landing_zones_uat",
                        ]
                      + display_name = "mg-landingzones-uat"
                      + exists       = false
                      + id           = "mg-landingzones-uat"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_uat_workload",
                        ]
                      + display_name = "mg-lz-workload-uat"
                      + exists       = false
                      + id           = "mg-lz-workload-uat"
                      + parent_id    = "mg-landingzones-uat"
                    },
                  + {
                      + archetypes   = [
                          + "npd_uat_workload",
                        ]
                      + display_name = "mg-lz-commonplatform-uat"
                      + exists       = false
                      + id           = "mg-lz-commonplatform-uat"
                      + parent_id    = "mg-landingzones-uat"
                    },
                  + {
                      + archetypes   = [
                          + "npd_landing_zones_sit",
                        ]
                      + display_name = "mg-landingzones-sit"
                      + exists       = false
                      + id           = "mg-landingzones-sit"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_sit_workload",
                        ]
                      + display_name = "mg-lz-workload-sit"
                      + exists       = false
                      + id           = "mg-lz-workload-sit"
                      + parent_id    = "mg-landingzones-sit"
                    },
                  + {
                      + archetypes   = [
                          + "npd_sit_workload",
                        ]
                      + display_name = "mg-lz-commonplatform-sit"
                      + exists       = false
                      + id           = "mg-lz-commonplatform-sit"
                      + parent_id    = "mg-landingzones-sit"
                    },
                  + {
                      + archetypes   = [
                          + "npd_landing_zones_ppd",
                        ]
                      + display_name = "mg-landingzones-ppd"
                      + exists       = false
                      + id           = "mg-landingzones-ppd"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_ppd_workload",
                        ]
                      + display_name = "mg-lz-workload-ppd"
                      + exists       = false
                      + id           = "mg-lz-workload-ppd"
                      + parent_id    = "mg-landingzones-ppd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_ppd_workload",
                        ]
                      + display_name = "mg-lz-commonplatform-ppd"
                      + exists       = false
                      + id           = "mg-lz-commonplatform-ppd"
                      + parent_id    = "mg-landingzones-ppd"
                    },
                  + {
                      + archetypes   = [
                          + "sandbox",
                        ]
                      + display_name = "mg-sandbox"
                      + exists       = false
                      + id           = "mg-sandbox"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "decommissioned",
                        ]
                      + display_name = "mg-decom-npd"
                      + exists       = false
                      + id           = "mg-decom-npd"
                      + parent_id    = "mg-alz-root-npd"
                    },
                  + {
                      + archetypes   = [
                          + "npd_vendor",
                        ]
                      + display_name = "mg-vendor-npd"
                      + exists       = false
                      + id           = "mg-vendor-npd"
                      + parent_id    = "mg-alz-root-npd"
                    },
                ]
              + name              = "alz"
            }
        )
      + file                         = "lib/architecture_definitions/alz.alz_architecture_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_assignments/enforce_fsi_conf.alz_policy_assignment.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_assignments/enforce_fsi_conf.alz_policy_assignment.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + apiVersion = "2019-09-01"
              + identity   = {
                  + type = "None"
                }
              + location   = null
              + name       = "Enforce-Fsi-Conf"
              + properties = {
                  + description        = "The Microsoft Cloud for Financial Services recommends confidential policies to help organizations achieve their financial services goals by default denying the creation of resources outside of approved regions, denying resources that are not backed by Azure Confidential Computing, and denying data storage resources that are not using Customer-Managed Keys."
                  + displayName        = "[Preview]: Financial Services Baseline - Confidential Policies"
                  + enforcementMode    = "Default"
                  + notScopes          = []
                  + parameters         = {
                      + allowedResourceTypes      = {
                          + value = [
                              + "Microsoft.Attestation/attestationProviders",
                              + "Microsoft.Compute/availabilitySets",
                              + "Microsoft.Compute/capacityReservationGroups",
                              + "Microsoft.Compute/capacityReservationGroups/capacityReservations",
                              + "Microsoft.Compute/cloudServices",
                              + "Microsoft.Compute/cloudServices/roles",
                              + "Microsoft.Compute/cloudServices/roleInstances",
                              + "Microsoft.Compute/cloudServices/networkInterfaces",
                              + "Microsoft.Compute/cloudServices/roleInstances/networkInterfaces",
                              + "Microsoft.Compute/cloudServices/publicIPAddresses",
                              + "Microsoft.Compute/disks",
                              + "Microsoft.Compute/diskEncryptionSets",
                              + "Microsoft.Compute/diskAccesses",
                              + "Microsoft.Compute/galleries",
                              + "Microsoft.Compute/galleries/images",
                              + "Microsoft.Compute/galleries/images/versions",
                              + "Microsoft.Compute/galleries/applications",
                              + "Microsoft.Compute/galleries/applications/versions",
                              + "Microsoft.Compute/hostGroups",
                              + "Microsoft.Compute/hostGroups/hosts",
                              + "Microsoft.Compute/images",
                              + "Microsoft.Compute/locations",
                              + "Microsoft.Compute/locations/artifactPublishers",
                              + "Microsoft.Compute/locations/csoperations",
                              + "Microsoft.Compute/locations/cloudServiceOsVersions",
                              + "Microsoft.Compute/locations/cloudServiceOsFamilies",
                              + "Microsoft.Compute/locations/capsoperations",
                              + "Microsoft.Compute/locations/communityGalleries",
                              + "Microsoft.Compute/locations/diagnostics",
                              + "Microsoft.Compute/locations/diagnosticOperations",
                              + "Microsoft.Compute/locations/diskoperations",
                              + "Microsoft.Compute/locations/edgeZones",
                              + "Microsoft.Compute/locations/edgeZones/vmimages",
                              + "Microsoft.Compute/locations/edgeZones/publishers",
                              + "Microsoft.Compute/locations/galleries",
                              + "Microsoft.Compute/locations/logAnalytics",
                              + "Microsoft.Compute/locations/recommendations",
                              + "Microsoft.Compute/locations/runCommands",
                              + "Microsoft.Compute/locations/sharedGalleries",
                              + "Microsoft.Compute/locations/spotEvictionRates",
                              + "Microsoft.Compute/locations/spotPriceHistory",
                              + "Microsoft.Compute/locations/operations",
                              + "Microsoft.Compute/locations/publishers",
                              + "Microsoft.Compute/locations/usages",
                              + "Microsoft.Compute/locations/vmSizes",
                              + "Microsoft.Compute/locations/virtualMachines",
                              + "Microsoft.Compute/locations/virtualMachineScaleSets",
                              + "Microsoft.Compute/operations",
                              + "Microsoft.Compute/restorePointCollections/restorePoints/diskRestorePoints",
                              + "Microsoft.Compute/virtualMachines",
                              + "Microsoft.Compute/virtualMachines/applications",
                              + "Microsoft.Compute/virtualMachines/extensions",
                              + "Microsoft.Compute/virtualMachines/metricDefinitions",
                              + "Microsoft.Compute/virtualMachines/runCommands",
                              + "Microsoft.Compute/virtualMachineScaleSets",
                              + "Microsoft.Compute/virtualMachineScaleSets/applications",
                              + "Microsoft.Compute/virtualMachineScaleSets/extensions",
                              + "Microsoft.Compute/virtualMachineScaleSets/networkInterfaces",
                              + "Microsoft.Compute/virtualMachineScaleSets/publicIPAddresses",
                              + "Microsoft.Compute/virtualMachineScaleSets/virtualMachines",
                              + "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/extensions",
                              + "Microsoft.Compute/virtualMachineScaleSets/virtualMachines/networkInterfaces",
                              + "Microsoft.Compute/restorePointCollections",
                              + "Microsoft.Compute/restorePointCollections/restorePoints",
                              + "Microsoft.Compute/proximityPlacementGroups",
                              + "Microsoft.Compute/sshPublicKeys",
                              + "Microsoft.Compute/sharedVMImages",
                              + "Microsoft.Compute/sharedVMImages/versions",
                              + "Microsoft.Compute/snapshots",
                              + "Microsoft.ConfidentialLedger/checkNameAvailability",
                              + "Microsoft.ConfidentialLedger/Ledgers",
                              + "Microsoft.ConfidentialLedger/Locations",
                              + "Microsoft.ConfidentialLedger/Locations/operations",
                              + "Microsoft.ConfidentialLedger/Locations/operationstatuses",
                              + "Microsoft.ConfidentialLedger/ManagedCCFs",
                              + "Microsoft.ContainerService/managedClusters",
                              + "Microsoft.ContainerService/managedClusters/agentPools",
                              + "Microsoft.HardwareSecurityModules/dedicatedHSMs",
                              + "Microsoft.HardwareSecurityModules/locations",
                              + "Microsoft.HardwareSecurityModules/locations/operationResults",
                              + "Microsoft.HardwareSecurityModules/operations",
                              + "Microsoft.KeyVault/hsmPools",
                              + "Microsoft.KeyVault/managedHSMs",
                              + "Microsoft.KeyVault/locations/managedHsmOperationResults",
                              + "Microsoft.KeyVault/checkMhsmNameAvailability",
                              + "Microsoft.KeyVault/checkNameAvailability",
                              + "Microsoft.KeyVault/deletedManagedHSMs",
                              + "Microsoft.KeyVault/deletedVaults",
                              + "Microsoft.KeyVault/locations",
                              + "Microsoft.KeyVault/locations/deletedManagedHSMs",
                              + "Microsoft.KeyVault/locations/deletedVaults",
                              + "Microsoft.KeyVault/locations/notifyNetworkSecurityPerimeterUpdatesAvailable",
                              + "Microsoft.KeyVault/locations/operationResults",
                              + "Microsoft.KeyVault/managedHSMs/privateEndpointConnections",
                              + "Microsoft.KeyVault/operations",
                              + "Microsoft.KeyVault/vaults",
                              + "Microsoft.KeyVault/vaults/accessPolicies",
                              + "Microsoft.KeyVault/vaults/eventGridFilters",
                              + "Microsoft.KeyVault/vaults/keys",
                              + "Microsoft.KeyVault/vaults/keys/versions",
                              + "Microsoft.KeyVault/vaults/privateEndpointConnections",
                              + "Microsoft.KeyVault/vaults/secrets",
                              + "Microsoft.Kubernetes/connectedClusters",
                              + "Microsoft.Kubernetes/locations",
                              + "Microsoft.Kubernetes/locations/operationStatuses",
                              + "Microsoft.Kubernetes/registeredSubscriptions",
                              + "Microsoft.Kubernetes/Operations",
                              + "Microsoft.KubernetesConfiguration/sourceControlConfigurations",
                              + "Microsoft.KubernetesConfiguration/extensions",
                              + "Microsoft.KubernetesConfiguration/fluxConfigurations",
                              + "Microsoft.KubernetesConfiguration/operations",
                              + "Microsoft.KubernetesConfiguration/privateLinkScopes",
                              + "Microsoft.KubernetesConfiguration/privateLinkScopes/privateEndpointConnections",
                              + "Microsoft.KubernetesConfiguration/privateLinkScopes/privateEndpointConnectionProxies",
                              + "Microsoft.ManagedIdentity/userAssignedIdentities",
                              + "Microsoft.Network/ddosProtectionPlans",
                              + "Microsoft.Network/loadBalancers",
                              + "Microsoft.Network/networkSecurityGroups",
                              + "Microsoft.Network/networkInterfaces",
                              + "Microsoft.Network/privateDnsZones",
                              + "Microsoft.Network/privateDnsZones/virtualNetworkLinks",
                              + "Microsoft.Network/privateEndpoints",
                              + "Microsoft.Network/privateEndpoints/privateDnsZoneGroups",
                              + "Microsoft.Network/publicIPAddresses",
                              + "Microsoft.Network/routeTables",
                              + "Microsoft.Network/virtualNetworks",
                              + "Microsoft.Network/virtualNetworks/subnets",
                              + "Microsoft.Resources/deployments",
                              + "Microsoft.Sql/locations/syncDatabaseIds",
                              + "Microsoft.Sql/locations/longTermRetentionServers",
                              + "Microsoft.Sql/locations/longTermRetentionBackups",
                              + "Microsoft.Sql/locations/longTermRetentionPolicyOperationResults",
                              + "Microsoft.Sql/locations/longTermRetentionPolicyAzureAsyncOperation",
                              + "Microsoft.Sql/locations/longTermRetentionBackupOperationResults",
                              + "Microsoft.Sql/locations/longTermRetentionBackupAzureAsyncOperation",
                              + "Microsoft.Sql/locations/shortTermRetentionPolicyOperationResults",
                              + "Microsoft.Sql/locations/shortTermRetentionPolicyAzureAsyncOperation",
                              + "Microsoft.Sql/locations/managedShortTermRetentionPolicyOperationResults",
                              + "Microsoft.Sql/locations/managedShortTermRetentionPolicyAzureAsyncOperation",
                              + "Microsoft.Sql/locations/instanceFailoverGroups",
                              + "Microsoft.Sql/locations/instanceFailoverGroupAzureAsyncOperation",
                              + "Microsoft.Sql/locations/instanceFailoverGroupOperationResults",
                              + "Microsoft.Sql/locations/privateEndpointConnectionProxyOperationResults",
                              + "Microsoft.Sql/locations/privateEndpointConnectionProxyAzureAsyncOperation",
                              + "Microsoft.Sql/locations/privateEndpointConnectionOperationResults",
                              + "Microsoft.Sql/locations/outboundFirewallRulesAzureAsyncOperation",
                              + "Microsoft.Sql/locations/outboundFirewallRulesOperationResults",
                              + "Microsoft.Sql/locations/privateEndpointConnectionAzureAsyncOperation",
                              + "Microsoft.Sql/locations/notifyAzureAsyncOperation",
                              + "Microsoft.Sql/locations/serverTrustGroups",
                              + "Microsoft.Sql/locations/serverTrustGroupOperationResults",
                              + "Microsoft.Sql/locations/serverTrustGroupAzureAsyncOperation",
                              + "Microsoft.Sql/locations/managedDatabaseMoveOperationResults",
                              + "Microsoft.Sql/locations/managedDatabaseMoveAzureAsyncOperation",
                              + "Microsoft.Sql/locations/connectionPoliciesAzureAsyncOperation",
                              + "Microsoft.Sql/locations/connectionPoliciesOperationResults",
                              + "Microsoft.Sql/locations/notifyNetworkSecurityPerimeterUpdatesAvailable",
                              + "Microsoft.Sql/locations/replicationLinksAzureAsyncOperation",
                              + "Microsoft.Sql/locations/replicationLinksOperationResults",
                              + "Microsoft.Sql/locations/managedInstanceDtcAzureAsyncOperation",
                              + "Microsoft.Sql/servers",
                              + "Microsoft.Sql/servers/advancedThreatProtectionSettings",
                              + "Microsoft.Sql/servers/advisors",
                              + "Microsoft.Sql/servers/auditingPolicies",
                              + "Microsoft.Sql/servers/auditingSettings",
                              + "Microsoft.Sql/servers/connectionPolicies",
                              + "Microsoft.Sql/servers/databases",
                              + "Microsoft.Sql/servers/databases/advisors",
                              + "Microsoft.Sql/servers/databases/advancedThreatProtectionSettings",
                              + "Microsoft.Sql/servers/databases/auditingPolicies",
                              + "Microsoft.Sql/servers/databases/auditingSettings",
                              + "Microsoft.Sql/servers/databases/backupLongTermRetentionPolicies",
                              + "Microsoft.Sql/servers/databases/extendedAuditingSettings",
                              + "Microsoft.Sql/servers/databases/geoBackupPolicies",
                              + "Microsoft.Sql/servers/databases/ledgerDigestUploads",
                              + "Microsoft.Sql/servers/databases/securityAlertPolicies",
                              + "Microsoft.Sql/servers/databases/transparentDataEncryption",
                              + "Microsoft.Sql/servers/databases/transparentDataEncryption",
                              + "Microsoft.Sql/servers/databases/vulnerabilityAssessments",
                              + "Microsoft.Sql/servers/devOpsAuditingSettings",
                              + "Microsoft.Sql/servers/databases/advancedThreatProtectionSettings",
                              + "Microsoft.Sql/servers/encryptionProtector",
                              + "Microsoft.Sql/servers/extendedAuditingSettings",
                              + "Microsoft.Sql/servers/firewallRules",
                              + "Microsoft.Sql/servers/keys",
                              + "Microsoft.Sql/servers/securityAlertPolicies",
                              + "Microsoft.Sql/servers/sqlVulnerabilityAssessments",
                              + "Microsoft.Sql/servers/vulnerabilityAssessments",
                            ]
                        }
                      + allowedVirtualMachineSKUs = {
                          + value = [
                              + "Standard_DC1s_v2",
                              + "Standard_DC2s_v2",
                              + "Standard_DC4s_v2",
                              + "Standard_DC8_v2",
                              + "Standard_DC1s_v3",
                              + "Standard_DC2s_v3",
                              + "Standard_DC4s_v3",
                              + "Standard_DC8s_v3",
                              + "Standard_DC16s_v3",
                              + "Standard_DC24s_v3",
                              + "Standard_DC32s_v3",
                              + "Standard_DC48s_v3",
                              + "Standard_DC1ds_v3",
                              + "Standard_DC2ds_v3",
                              + "Standard_DC4ds_v3",
                              + "Standard_DC8ds_v3",
                              + "Standard_DC16ds_v3",
                              + "Standard_DC24ds_v3",
                              + "Standard_DC32ds_v3",
                              + "Standard_DC48ds_v3",
                              + "Standard_DC2ads_v5",
                              + "Standard_DC2as_v5",
                              + "Standard_DC4ads_v5",
                              + "Standard_DC4as_v5",
                              + "Standard_DC8ads_v5",
                              + "Standard_DC8as_v5",
                              + "Standard_DC16ads_v5",
                              + "Standard_DC16as_v5",
                              + "Standard_DC32ads_v5",
                              + "Standard_DC32as_v5",
                              + "Standard_DC48ads_v5",
                              + "Standard_DC48as_v5",
                              + "Standard_DC64ads_v5",
                              + "Standard_DC64as_v5",
                              + "Standard_DC96ads_v5",
                              + "Standard_DC96as_v5",
                              + "Standard_EC2ads_v5",
                              + "Standard_EC2as_v5",
                              + "Standard_EC4ads_v5",
                              + "Standard_EC4as_v5",
                              + "Standard_EC8ads_v5",
                              + "Standard_EC8as_v5",
                              + "Standard_EC16ads_v5",
                              + "Standard_EC16as_v5",
                              + "Standard_EC20ads_v5",
                              + "Standard_EC20as_v5",
                              + "Standard_EC32ads_v5",
                              + "Standard_EC32as_v5",
                              + "Standard_EC48ads_v5",
                              + "Standard_EC48as_v5",
                              + "Standard_EC64ads_v5",
                              + "Standard_EC64as_v5",
                              + "Standard_EC96ads_v5",
                              + "Standard_EC96as_v5",
                              + "Standard_EC96iads_v5",
                              + "Standard_EC96ias_v5",
                            ]
                        }
                      + effect                    = {
                          + value = "Deny"
                        }
                      + listOfAllowedLocations    = {
                          + value = []
                        }
                    }
                  + policyDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/03de05a4-c324-4ccd-882f-a814ea8ab9ea"
                  + scope              = null
                }
              + type       = "Microsoft.Authorization/policyAssignments"
            }
        )
      + file                         = "lib/policy_assignments/enforce_fsi_conf.alz_policy_assignment.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_assignments/re_01_zonal_residency.alz_policy_assignment.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_assignments/re_01_zonal_residency.alz_policy_assignment.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + apiVersion = "2022-06-01"
              + dependsOn  = []
              + identity   = {
                  + type = "SystemAssigned"
                }
              + location   = "${default_location}"
              + name       = "RE-01-Zonal-Residency"
              + properties = {
                  + description        = "The customer must ensure multi-region and active-active resiliency across all workloads."
                  + displayName        = "RE-01-Zonal-Residency"
                  + enforcementMode    = "Default"
                  + notScopes          = []
                  + parameters         = {
                      + allow = {
                          + value = "Both"
                        }
                    }
                  + policyDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/130fb88f-0fc9-4678-bfe1-31022d71c7d5"
                  + scope              = "/providers/Microsoft.Management/managementGroups/placeholder"
                }
              + type       = "Microsoft.Authorization/policyAssignments"
            }
        )
      + file                         = "lib/policy_assignments/re_01_zonal_residency.alz_policy_assignment.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_assignments/so_01_data_residency.alz_policy_assignment.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_assignments/so_01_data_residency.alz_policy_assignment.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + apiVersion = "2022-06-01"
              + dependsOn  = []
              + identity   = {
                  + type = "SystemAssigned"
                }
              + location   = "${default_location}"
              + name       = "SO-01-Data-Residency"
              + properties = {
                  + description        = "Customer data must be stored and processed entirely in data centers that reside in approved geopolitical regions based upon customer-defined requirements."
                  + displayName        = "SO-01-Data-Residency"
                  + enforcementMode    = "Default"
                  + notScopes          = []
                  + parameters         = {
                      + listOfAllowedLocations-1 = {
                          + value = []
                        }
                      + policyEffect-1           = {
                          + value = "Deny"
                        }
                    }
                  + policyDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/d22ea5a9-2a46-4f25-8d11-e8ef42769e46"
                  + scope              = "/providers/Microsoft.Management/managementGroups/placeholder"
                }
              + type       = "Microsoft.Authorization/policyAssignments"
            }
        )
      + file                         = "lib/policy_assignments/so_01_data_residency.alz_policy_assignment.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_assignments/so_04_cmk.alz_policy_assignment.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_assignments/so_04_cmk.alz_policy_assignment.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + apiVersion = "2022-06-01"
              + dependsOn  = []
              + identity   = {
                  + type = "SystemAssigned"
                }
              + location   = "${default_location}"
              + name       = "SO-04-CMK"
              + properties = {
                  + description        = "The customer must have exclusive control over deciding which identities can access keys used to decrypt customer-defined sensitive data."
                  + displayName        = "SO-04-CMK"
                  + enforcementMode    = "Default"
                  + notScopes          = []
                  + parameters         = {
                      + enableDoubleEncryption-1 = {
                          + value = false
                        }
                    }
                  + policyDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/50e4abe0-fc74-4546-9bd4-070ad748670b"
                  + scope              = "/providers/Microsoft.Management/managementGroups/placeholder"
                }
              + type       = "Microsoft.Authorization/policyAssignments"
            }
        )
      + file                         = "lib/policy_assignments/so_04_cmk.alz_policy_assignment.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_assignments/tr_01_logging.alz_policy_assignment.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_assignments/tr_01_logging.alz_policy_assignment.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + apiVersion = "2022-06-01"
              + dependsOn  = []
              + identity   = {
                  + type = "SystemAssigned"
                }
              + location   = "${default_location}"
              + name       = "TR-01-Logging"
              + properties = {
                  + description        = "Customer must have visibility into deep information about what has happened in their environment (You can get it for diagnostic not for Operator settings)"
                  + displayName        = "TR-01-Logging"
                  + enforcementMode    = "Default"
                  + notScopes          = []
                  + parameters         = {
                      + logAnalytics = {
                          + value = "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/placeholder/providers/Microsoft.OperationalInsights/workspaces/placeholder"
                        }
                    }
                  + policyDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/0884adba-2312-4468-abeb-5422caed1038"
                  + scope              = "/providers/Microsoft.Management/managementGroups/placeholder"
                }
              + type       = "Microsoft.Authorization/policyAssignments"
            }
        )
      + file                         = "lib/policy_assignments/tr_01_logging.alz_policy_assignment.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_set_definitions/SO-01-Data-Residency.alz_policy_set_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_set_definitions/SO-01-Data-Residency.alz_policy_set_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + id         = "/providers/Microsoft.Authorization/policySetDefinitions/d22ea5a9-2a46-4f25-8d11-e8ef42769e46"
              + name       = "d22ea5a9-2a46-4f25-8d11-e8ef42769e46"
              + properties = {
                  + description            = "Customer data must be stored and processed entirely in data centers that reside in approved geopolitical regions based upon customer-defined requirements."
                  + displayName            = "SO 01-Data-Residency"
                  + metadata               = {
                      + category = "Regulatory Compliance"
                      + preview  = true
                      + version  = "1.0.0-preview"
                    }
                  + parameters             = {
                      + listOfAllowedLocations-1 = {
                          + metadata = {
                              + description = "The list of locations that can be specified when deploying resources."
                              + displayName = "Allowed locations"
                              + strongType  = "location"
                            }
                          + type     = "Array"
                        }
                      + policyEffect-1           = {
                          + allowedValues = [
                              + "audit",
                              + "Audit",
                              + "deny",
                              + "Deny",
                              + "disabled",
                              + "Disabled",
                            ]
                          + defaultValue  = "Deny"
                          + metadata      = {
                              + description = "The desired effect of the policy."
                              + displayName = "Policy Effect"
                            }
                          + type          = "String"
                        }
                    }
                  + policyDefinitionGroups = [
                      + {
                          + additionalMetadataId = "/providers/Microsoft.PolicyInsights/policyMetadata/SO_01_Data_Residency_Data_Residency_SO_01"
                          + category             = "Data Residency"
                          + description          = "Customer data must be stored and processed entirely in data centers that reside in approved geopolitical regions based upon customer-defined requirements."
                          + name                 = "SO_01_Data_Residency_Data_Residency_SO_01"
                        },
                    ]
                  + policyDefinitions      = [
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_01_Data_Residency_Data_Residency_SO_01",
                            ]
                          + parameters                  = {
                              + listOfAllowedLocations = {
                                  + value = "[parameters('listOfAllowedLocations-1')]"
                                }
                            }
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/e56962a6-4747-49cd-b67b-bf8b01975c4c"
                          + policyDefinitionReferenceId = "Allowed locations"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_01_Data_Residency_Data_Residency_SO_01",
                            ]
                          + parameters                  = {
                              + listOfAllowedLocations = {
                                  + value = "[parameters('listOfAllowedLocations-1')]"
                                }
                            }
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/e765b5de-1225-4ba3-bd56-1ac6695af988"
                          + policyDefinitionReferenceId = "Allowed locations for resource groups"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_01_Data_Residency_Data_Residency_SO_01",
                            ]
                          + parameters                  = {
                              + listOfAllowedLocations = {
                                  + value = "[parameters('listOfAllowedLocations-1')]"
                                }
                              + policyEffect           = {
                                  + value = "[parameters('policyEffect-1')]"
                                }
                            }
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/0473574d-2d43-4217-aefe-941fcdf7e684"
                          + policyDefinitionReferenceId = "Azure Cosmos DB allowed locations"
                        },
                    ]
                  + policyType             = "Custom"
                  + version                = "1.0.0"
                }
            }
        )
      + file                         = "lib/policy_set_definitions/SO-01-Data-Residency.alz_policy_set_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["lib/policy_set_definitions/SO-04-CMK.alz_policy_set_definition.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add lib/policy_set_definitions/SO-04-CMK.alz_policy_set_definition.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + id         = "/providers/Microsoft.Authorization/policySetDefinitions/50e4abe0-fc74-4546-9bd4-070ad748670b"
              + name       = "50e4abe0-fc74-4546-9bd4-070ad748670b"
              + properties = {
                  + description            = "The customer must have exclusive control over deciding which identities can access keys used to decrypt customer-defined sensitive data."
                  + displayName            = "SO 04-CMK"
                  + metadata               = {
                      + category = "Regulatory Compliance"
                      + preview  = true
                      + version  = "1.0.0-preview"
                    }
                  + parameters             = {
                      + enableDoubleEncryption-1 = {
                          + defaultValue = false
                          + metadata     = {
                              + description = "Check if double encryption is enabled on Recovery Services vaults for Backup.  For more details refer to https://aka.ms/AB-InfraEncryption."
                              + displayName = "Double encryption should be enabled on Recovery Services vaults for Backup"
                            }
                          + type         = "Boolean"
                        }
                    }
                  + policyDefinitionGroups = [
                      + {
                          + additionalMetadataId = "/providers/Microsoft.PolicyInsights/policyMetadata/SO_04_CMK_Customer_Managed_Keys_SO_04"
                          + category             = "Customer Managed Keys"
                          + description          = "[Preview]: Azure Recovery Services vaults should use customer-managed keys for encrypting backup data"
                          + name                 = "SO_04_CMK_Customer_Managed_Keys_SO_04"
                        },
                    ]
                  + policyDefinitions      = [
                      + {
                          + definitionVersion           = "1.*.*-preview"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {
                              + enableDoubleEncryption = {
                                  + value = "[parameters('enableDoubleEncryption-1')]"
                                }
                            }
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/2e94d99a-8a36-4563-bc77-810d8893b671"
                          + policyDefinitionReferenceId = "[Preview]: Azure Recovery Services vaults should use customer-managed keys for encrypting backup data"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/7d7be79c-23ba-4033-84dd-45e2a5ccdd67"
                          + policyDefinitionReferenceId = "Both operating systems and data disks in Azure Kubernetes Service clusters should be encrypted by customer-managed keys"
                        },
                      + {
                          + definitionVersion           = "2.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/970f84d8-71b6-4091-9979-ace7e3fb6dbb"
                          + policyDefinitionReferenceId = "HPC Cache accounts should use customer-managed key for encryption"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/ca91455f-eace-4f96-be59-e6e2c35b4816"
                          + policyDefinitionReferenceId = "Managed disks should be double encrypted with both platform-managed and customer-managed keys"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/83cef61d-dbd1-4b20-a4fc-5fbc7da10833"
                          + policyDefinitionReferenceId = "MySQL servers should use customer-managed keys to encrypt data at rest"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/18adea5e-f416-4d0f-8aa8-d24321e3e274"
                          + policyDefinitionReferenceId = "PostgreSQL servers should use customer-managed keys to encrypt data at rest"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/f0e5abd0-2554-4736-b7c0-4ffef23475ef"
                          + policyDefinitionReferenceId = "Queue Storage should use customer-managed key for encryption"
                        },
                      + {
                          + definitionVersion           = "2.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/ac01ad65-10e5-46df-bdd9-6b0cad13e1d2"
                          + policyDefinitionReferenceId = "SQL managed instances should use customer-managed keys to encrypt data at rest"
                        },
                      + {
                          + definitionVersion           = "2.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/0a370ff3-6cab-4e85-8995-295fd854c5b8"
                          + policyDefinitionReferenceId = "SQL servers should use customer-managed keys to encrypt data at rest"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/b5ec538c-daa0-4006-8596-35468b9148e8"
                          + policyDefinitionReferenceId = "Storage account encryption scopes should use customer-managed keys to encrypt data at rest"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/6fac406b-40ca-413b-bf8e-0bf964659c25"
                          + policyDefinitionReferenceId = "Storage accounts should use customer-managed key for encryption"
                        },
                      + {
                          + definitionVersion           = "1.*.*"
                          + groupNames                  = [
                              + "SO_04_CMK_Customer_Managed_Keys_SO_04",
                            ]
                          + parameters                  = {}
                          + policyDefinitionId          = "/providers/Microsoft.Authorization/policyDefinitions/7c322315-e26d-4174-a99e-f49d351b4688"
                          + policyDefinitionReferenceId = "Table Storage should use customer-managed key for encryption"
                        },
                    ]
                  + policyType             = "Custom"
                  + version                = "1.0.0"
                }
            }
        )
      + file                         = "lib/policy_set_definitions/SO-04-CMK.alz_policy_set_definition.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["locals.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add locals.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              const = {
                connectivity = {
                  virtual_wan        = "virtual_wan"
                  hub_and_spoke_vnet = "hub_and_spoke_vnet"
                  none               = "none"
                }
              }
            }

            locals {
              connectivity_enabled                    = var.connectivity_type != local.const.connectivity.none
              connectivity_virtual_wan_enabled        = var.connectivity_type == local.const.connectivity.virtual_wan
              connectivity_hub_and_spoke_vnet_enabled = var.connectivity_type == local.const.connectivity.hub_and_spoke_vnet
            }

            locals {
              management_groups_enabled    = try(var.management_group_settings.enabled, true)
              management_resources_enabled = try(var.management_resource_settings.enabled, true)
            }

            # Build an implicit dependency on the resource groups
            locals {
              resource_groups = {
                resource_groups = module.resource_groups
              }
              hub_and_spoke_vnet_settings         = merge(module.config.hub_and_spoke_vnet_settings, local.resource_groups)
              hub_and_spoke_vnet_virtual_networks = (merge({ vnets = module.config.hub_and_spoke_vnet_virtual_networks }, local.resource_groups)).vnets
              virtual_wan_settings                = merge(module.config.virtual_wan_settings, local.resource_groups)
              virtual_wan_virtual_hubs            = (merge({ vhubs = module.config.virtual_wan_virtual_hubs }, local.resource_groups)).vhubs
            }

            # Build policy dependencies
            locals {
              management_group_dependencies = {
                policy_assignments = [
                  module.management_resources,
                  module.hub_and_spoke_vnet,
                  module.virtual_wan
                ]
                policy_role_assignments = [
                  module.management_resources,
                  module.hub_and_spoke_vnet,
                  module.virtual_wan
                ]
              }
            }
        EOT
      + file                         = "locals.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["main.config.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add main.config.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "config" {
              source = "./modules/config-templating"

              enable_telemetry = var.enable_telemetry

              starter_locations               = var.starter_locations
              subscription_id_connectivity    = var.subscription_id_connectivity
              subscription_id_identity        = var.subscription_id_identity
              subscription_id_management      = var.subscription_id_management
              root_parent_management_group_id = var.root_parent_management_group_id

              custom_replacements = var.custom_replacements

              connectivity_resource_groups        = var.connectivity_resource_groups
              hub_and_spoke_vnet_settings         = var.hub_and_spoke_vnet_settings
              hub_and_spoke_vnet_virtual_networks = var.hub_and_spoke_vnet_virtual_networks
              virtual_wan_settings                = var.virtual_wan_settings
              virtual_wan_virtual_hubs            = var.virtual_wan_virtual_hubs
              management_resource_settings        = var.management_resource_settings
              management_group_settings           = var.management_group_settings
              tags                                = var.tags
            }
        EOT
      + file                         = "main.config.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["main.connectivity.hub.and.spoke.virtual.network.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add main.connectivity.hub.and.spoke.virtual.network.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "hub_and_spoke_vnet" {
              source  = "Azure/avm-ptn-alz-connectivity-hub-and-spoke-vnet/azurerm"
              version = "0.6.0"

              count = local.connectivity_hub_and_spoke_vnet_enabled ? 1 : 0

              hub_and_spoke_networks_settings = local.hub_and_spoke_vnet_settings
              hub_virtual_networks            = local.hub_and_spoke_vnet_virtual_networks
              enable_telemetry                = var.enable_telemetry
              tags                            = try(local.hub_and_spoke_vnet_settings.tags, module.config.tags)

              providers = {
                azurerm = azurerm.connectivity
              }
            }
        EOT
      + file                         = "main.connectivity.hub.and.spoke.virtual.network.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["main.connectivity.virtual.wan.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add main.connectivity.virtual.wan.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "virtual_wan" {
              source  = "Azure/avm-ptn-alz-connectivity-virtual-wan/azurerm"
              version = "0.5.1"

              count = local.connectivity_virtual_wan_enabled ? 1 : 0

              virtual_wan_settings = local.virtual_wan_settings
              virtual_hubs         = local.virtual_wan_virtual_hubs
              enable_telemetry     = var.enable_telemetry
              tags                 = try(local.virtual_wan_settings.tags, module.config.tags)

              providers = {
                azurerm = azurerm.connectivity
              }
            }
        EOT
      + file                         = "main.connectivity.virtual.wan.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["main.management.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add main.management.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "management_resources" {
              source = "./modules/management_resources"

              count = local.management_resources_enabled ? 1 : 0

              enable_telemetry             = var.enable_telemetry
              management_resource_settings = module.config.management_resource_settings
              tags                         = module.config.tags

              providers = {
                azurerm = azurerm.management
              }
            }

            module "management_groups" {
              source = "./modules/management_groups"

              count = local.management_groups_enabled ? 1 : 0

              enable_telemetry          = var.enable_telemetry
              management_group_settings = module.config.management_group_settings
              dependencies              = local.management_group_dependencies
            }

            moved {
              from = module.management_groups
              to   = module.management_groups[0]
            }

            moved {
              from = module.management_resources
              to   = module.management_resources[0]
            }
        EOT
      + file                         = "main.management.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["main.resource.groups.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add main.resource.groups.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "resource_groups" {
              source  = "Azure/avm-res-resources-resourcegroup/azurerm"
              version = "0.2.1"

              for_each = { for key, value in module.config.connectivity_resource_groups : key => value if try(value.settings.enabled, true) }

              name             = each.value.name
              location         = each.value.location
              enable_telemetry = var.enable_telemetry
              tags             = try(each.value.tags, null) == null ? module.config.tags : each.value.tags

              providers = {
                azurerm = azurerm.connectivity
              }
            }
        EOT
      + file                         = "main.resource.groups.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/data.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/data.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "regions" {
              source                    = "Azure/avm-utl-regions/azurerm"
              version                   = "0.5.2"
              use_cached_data           = false
              availability_zones_filter = false
              recommended_filter        = false
              enable_telemetry          = var.enable_telemetry
            }

            data "azurerm_client_config" "current" {}
        EOT
      + file                         = "modules/config-templating/data.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.config.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.config.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              regions = { for region in module.regions.regions_by_name : region.name => {
                display_name = region.display_name
                zones        = region.zones == null ? [] : region.zones
                }
              }
            }

            locals {
              built_in_replacements = {
                starter_location_01                                           = var.starter_locations[0]
                starter_location_02                                           = try(var.starter_locations[1], null)
                starter_location_03                                           = try(var.starter_locations[2], null)
                starter_location_04                                           = try(var.starter_locations[3], null)
                starter_location_05                                           = try(var.starter_locations[4], null)
                starter_location_06                                           = try(var.starter_locations[5], null)
                starter_location_07                                           = try(var.starter_locations[6], null)
                starter_location_08                                           = try(var.starter_locations[7], null)
                starter_location_09                                           = try(var.starter_locations[8], null)
                starter_location_10                                           = try(var.starter_locations[9], null)
                starter_location_01_availability_zones                        = jsonencode(local.regions[var.starter_locations[0]].zones)
                starter_location_02_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[1]].zones, null))
                starter_location_03_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[2]].zones, null))
                starter_location_04_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[3]].zones, null))
                starter_location_05_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[4]].zones, null))
                starter_location_06_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[5]].zones, null))
                starter_location_07_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[6]].zones, null))
                starter_location_08_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[7]].zones, null))
                starter_location_09_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[8]].zones, null))
                starter_location_10_availability_zones                        = jsonencode(try(local.regions[var.starter_locations[9]].zones, null))
                starter_location_01_virtual_network_gateway_sku_express_route = local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[0]].express_route
                starter_location_02_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[1]].express_route, null)
                starter_location_03_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[2]].express_route, null)
                starter_location_04_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[3]].express_route, null)
                starter_location_05_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[4]].express_route, null)
                starter_location_06_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[5]].express_route, null)
                starter_location_07_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[6]].express_route, null)
                starter_location_08_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[7]].express_route, null)
                starter_location_09_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[8]].express_route, null)
                starter_location_10_virtual_network_gateway_sku_express_route = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[9]].express_route, null)
                starter_location_01_virtual_network_gateway_sku_vpn           = local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[0]].vpn
                starter_location_02_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[1]].vpn, null)
                starter_location_03_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[2]].vpn, null)
                starter_location_04_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[3]].vpn, null)
                starter_location_05_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[4]].vpn, null)
                starter_location_06_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[5]].vpn, null)
                starter_location_07_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[6]].vpn, null)
                starter_location_08_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[7]].vpn, null)
                starter_location_09_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[8]].vpn, null)
                starter_location_10_virtual_network_gateway_sku_vpn           = try(local.hub_and_spoke_vnet_gateway_default_skus[var.starter_locations[9]].vpn, null)
                root_parent_management_group_id                               = var.root_parent_management_group_id == "" ? data.azurerm_client_config.current.tenant_id : var.root_parent_management_group_id
                subscription_id_connectivity                                  = var.subscription_id_connectivity
                subscription_id_identity                                      = var.subscription_id_identity
                subscription_id_management                                    = var.subscription_id_management
              }
            }

            # Custom name replacements
            locals {
              custom_names_json           = tostring(jsonencode(var.custom_replacements.names))
              custom_names_json_templated = templatestring(local.custom_names_json, local.built_in_replacements)
              custom_names_json_final     = replace(replace(replace(replace(local.custom_names_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              custom_names                = jsondecode(local.custom_names_json_final)
            }

            locals {
              custom_name_replacements = merge(local.built_in_replacements, local.custom_names)
            }

            # Custom resource group identifiers
            locals {
              custom_resource_group_identifiers_json           = tostring(jsonencode(var.custom_replacements.resource_group_identifiers))
              custom_resource_group_identifiers_json_templated = templatestring(local.custom_resource_group_identifiers_json, local.custom_name_replacements)
              custom_resource_group_identifiers_json_final     = replace(replace(replace(replace(local.custom_resource_group_identifiers_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              custom_resource_group_identifiers                = jsondecode(local.custom_resource_group_identifiers_json_final)
            }

            locals {
              custom_resource_group_replacements = merge(local.custom_name_replacements, local.custom_resource_group_identifiers)
            }

            # Custom resource identifiers
            locals {
              custom_resource_identifiers_json           = tostring(jsonencode(var.custom_replacements.resource_identifiers))
              custom_resource_identifiers_json_templated = templatestring(local.custom_resource_identifiers_json, local.custom_resource_group_replacements)
              custom_resource_identifiers_json_final     = replace(replace(replace(replace(local.custom_resource_identifiers_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              custom_resource_identifiers                = jsondecode(local.custom_resource_identifiers_json_final)
            }

            locals {
              final_replacements = merge(local.custom_resource_group_replacements, local.custom_resource_identifiers)
            }
        EOT
      + file                         = "modules/config-templating/locals.config.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.connectivity.hub.and.spoke.virtual.network.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.connectivity.hub.and.spoke.virtual.network.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              hub_and_spoke_vnet_gateway_default_skus = { for key, value in local.regions : key => length(value.zones) == 0 ? {
                express_route = "Standard"
                vpn           = "VpnGw1"
                } : {
                express_route = "ErGw1AZ"
                vpn           = "VpnGw1AZ"
                }
              }
            }

            locals {
              hub_and_spoke_vnet_settings_json           = tostring(jsonencode(var.hub_and_spoke_vnet_settings))
              hub_and_spoke_vnet_settings_json_templated = templatestring(local.hub_and_spoke_vnet_settings_json, local.final_replacements)
              hub_and_spoke_vnet_settings_json_final     = replace(replace(replace(replace(local.hub_and_spoke_vnet_settings_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              hub_and_spoke_vnet_settings                = jsondecode(local.hub_and_spoke_vnet_settings_json_final)

              hub_and_spoke_vnet_virtual_networks_json           = tostring(jsonencode(var.hub_and_spoke_vnet_virtual_networks))
              hub_and_spoke_vnet_virtual_networks_json_templated = templatestring(local.hub_and_spoke_vnet_virtual_networks_json, local.final_replacements)
              hub_and_spoke_vnet_virtual_networks_json_final     = replace(replace(replace(replace(local.hub_and_spoke_vnet_virtual_networks_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              hub_and_spoke_vnet_virtual_networks                = jsondecode(local.hub_and_spoke_vnet_virtual_networks_json_final)
            }
        EOT
      + file                         = "modules/config-templating/locals.connectivity.hub.and.spoke.virtual.network.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.connectivity.virtual.wan.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.connectivity.virtual.wan.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              virtual_wan_settings_json           = tostring(jsonencode(var.virtual_wan_settings))
              virtual_wan_settings_json_templated = templatestring(local.virtual_wan_settings_json, local.final_replacements)
              virtual_wan_settings_json_final     = replace(replace(replace(replace(local.virtual_wan_settings_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              virtual_wan_settings                = jsondecode(local.virtual_wan_settings_json_final)

              virtual_wan_virtual_hubs_json           = tostring(jsonencode(var.virtual_wan_virtual_hubs))
              virtual_wan_virtual_hubs_json_templated = templatestring(local.virtual_wan_virtual_hubs_json, local.final_replacements)
              virtual_wan_virtual_hubs_json_final     = replace(replace(replace(replace(local.virtual_wan_virtual_hubs_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              virtual_wan_virtual_hubs                = jsondecode(local.virtual_wan_virtual_hubs_json_final)
            }
        EOT
      + file                         = "modules/config-templating/locals.connectivity.virtual.wan.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.management.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.management.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              management_resource_settings_json           = tostring(jsonencode(var.management_resource_settings))
              management_resource_settings_json_templated = templatestring(local.management_resource_settings_json, local.final_replacements)
              management_resource_settings_json_final     = replace(replace(replace(replace(local.management_resource_settings_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              management_resource_settings                = jsondecode(local.management_resource_settings_json_final)
            }

            locals {
              management_group_settings_json           = tostring(jsonencode(var.management_group_settings))
              management_group_settings_json_templated = templatestring(local.management_group_settings_json, local.final_replacements)
              management_group_settings_json_final     = replace(replace(replace(replace(local.management_group_settings_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              management_group_settings                = jsondecode(local.management_group_settings_json_final)
            }
        EOT
      + file                         = "modules/config-templating/locals.management.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.resource.groups.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.resource.groups.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              connectivity_resource_groups_json           = tostring(jsonencode(var.connectivity_resource_groups))
              connectivity_resource_groups_json_templated = templatestring(local.connectivity_resource_groups_json, local.final_replacements)
              connectivity_resource_groups_json_final     = replace(replace(replace(replace(local.connectivity_resource_groups_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              connectivity_resource_groups                = jsondecode(local.connectivity_resource_groups_json_final)
            }
        EOT
      + file                         = "modules/config-templating/locals.resource.groups.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/locals.tags.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/locals.tags.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              tags_json           = tostring(jsonencode(var.tags))
              tags_json_templated = templatestring(local.tags_json, local.final_replacements)
              tags_json_final     = replace(replace(replace(replace(local.tags_json_templated, "\"[", "["), "]\"", "]"), "\"true\"", "true"), "\"false\"", "false")
              tags                = jsondecode(local.tags_json_final)
            }
        EOT
      + file                         = "modules/config-templating/locals.tags.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/outputs.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/outputs.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            output "connectivity_resource_groups" {
              value = local.connectivity_resource_groups
            }

            output "management_resource_settings" {
              value = local.management_resource_settings
            }

            output "management_group_settings" {
              value = local.management_group_settings
            }

            output "hub_and_spoke_vnet_settings" {
              value = local.hub_and_spoke_vnet_settings
            }

            output "hub_and_spoke_vnet_virtual_networks" {
              value = local.hub_and_spoke_vnet_virtual_networks
            }

            output "virtual_wan_settings" {
              value = local.virtual_wan_settings
            }

            output "virtual_wan_virtual_hubs" {
              value = local.virtual_wan_virtual_hubs
            }

            output "tags" {
              value = local.tags
            }

            output "custom_replacements" {
              value = local.final_replacements
            }
        EOT
      + file                         = "modules/config-templating/outputs.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/terraform.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/terraform.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            terraform {
              required_version = "~> 1.9"
              required_providers {
                azurerm = {
                  source  = "hashicorp/azurerm"
                  version = "~> 4.0"
                }
              }
            }
        EOT
      + file                         = "modules/config-templating/terraform.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/config-templating/variables.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/config-templating/variables.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "starter_locations" {
              type        = list(string)
              description = "The default for Azure resources. (e.g 'uksouth')|azure_location"
            }

            variable "subscription_id_connectivity" {
              type        = string
              description = "value of the subscription id for the Connectivity subscription|azure_subscription_id"
            }

            variable "subscription_id_identity" {
              type        = string
              description = "value of the subscription id for the Identity subscription|azure_subscription_id"
            }

            variable "subscription_id_management" {
              type        = string
              description = "value of the subscription id for the Management subscription|azure_subscription_id"
            }

            variable "root_parent_management_group_id" {
              type        = string
              default     = ""
              description = "This is the id of the management group that the ALZ hierarchy will be nested under, will default to the Tenant Root Group|azure_name"
            }

            variable "enable_telemetry" {
              type        = bool
              default     = true
              description = "Flag to enable/disable telemetry"
            }

            variable "custom_replacements" {
              type = object({
                names                      = optional(map(string), {})
                resource_group_identifiers = optional(map(string), {})
                resource_identifiers       = optional(map(string), {})
              })
              description = "Custom replacements"
            }

            variable "tags" {
              type        = map(string)
              default     = null
              description = "(Optional) Tags of the resource."
            }

            variable "connectivity_resource_groups" {
              type = map(object({
                name     = string
                location = string
                settings = optional(any)
              }))
              default     = {}
              description = <<DESCRIPTION
            A map of resource groups to create. These must be created before the connectivity module is applied.

            The following attributes are supported:

              - name: The name of the resource group
              - location: The location of the resource group
              - settings: (Optional) An object, which can include an `enabled` setting value that indicates whether the resource group should be created.

            DESCRIPTION
            }

            variable "hub_and_spoke_vnet_settings" {
              type    = any
              default = {}
            }

            variable "hub_and_spoke_vnet_virtual_networks" {
              type    = any
              default = {}
            }

            variable "virtual_wan_settings" {
              type    = any
              default = {}
            }

            variable "virtual_wan_virtual_hubs" {
              type    = any
              default = {}
            }

            variable "management_resource_settings" {
              type    = any
              default = {}
            }

            variable "management_group_settings" {
              type    = any
              default = {}
            }
        EOT
      + file                         = "modules/config-templating/variables.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_groups/locals.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_groups/locals.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            locals {
              policy_default_values = { for k, v in try(var.management_group_settings.policy_default_values, {}) : k => jsonencode({
                value = v
              }) }
              policy_assignments_to_modify = { for management_group_key, management_group_value in try(var.management_group_settings.policy_assignments_to_modify, {}) : management_group_key => {
                policy_assignments = { for policy_assignment_key, policy_assignment_value in management_group_value.policy_assignments : policy_assignment_key => {
                  enforcement_mode        = try(policy_assignment_value.enforcement_mode, null)
                  identity                = try(policy_assignment_value.identity, null)
                  identity_ids            = try(policy_assignment_value.identity_ids, null)
                  parameters              = try({ for parameter_key, parameter_value in policy_assignment_value.parameters : parameter_key => jsonencode({ value = parameter_value }) }, null)
                  non_compliance_messages = try(policy_assignment_value.non_compliance_messages, null)
                  resource_selectors      = try(policy_assignment_value.resource_selectors, null)
                  overrides               = try(policy_assignment_value.overrides, null)
                } }
              } }
              default_retries = {
                management_groups = {
                  error_message_regex = ["AuthorizationFailed", "Permission to Microsoft.Management/managementGroups on resources of type 'Write' is required on the management group or its ancestors."]
                }
                role_definitions = {
                  error_message_regex = ["AuthorizationFailed"]
                }
                policy_definitions = {
                  error_message_regex = ["AuthorizationFailed"]
                }
                policy_set_definitions = {
                  error_message_regex = ["AuthorizationFailed"]
                }
                policy_assignments = {
                  error_message_regex = ["AuthorizationFailed", "The policy definition specified in policy assignment '.+' is out of scope"]
                }
                policy_role_assignments = {
                  error_message_regex = ["AuthorizationFailed", "ResourceNotFound", "RoleAssignmentNotFound"]
                }
                hierarchy_settings = {
                  error_message_regex = ["AuthorizationFailed"]
                }
                subscription_placement = {
                  error_message_regex = ["AuthorizationFailed"]
                }
              }
              default_timeouts = {
                management_group = {
                  create = "60m"
                  read   = "60m"
                }
                role_definition = {
                  create = "60m"
                  read   = "60m"
                }
                policy_assignment = {
                  create = "60m"
                  read   = "60m"
                }
                policy_definition = {
                  create = "60m"
                  read   = "60m"
                }
                policy_set_definition = {
                  create = "60m"
                  read   = "60m"
                }
                policy_role_assignment = {
                  create = "60m"
                  read   = "60m"
                }
              }
            }
        EOT
      + file                         = "modules/management_groups/locals.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_groups/main.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_groups/main.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "management_groups" {
              source                                                        = "Azure/avm-ptn-alz/azurerm"
              version                                                       = "0.12.0"
              architecture_name                                             = try(var.management_group_settings.architecture_name, "alz")
              parent_resource_id                                            = var.management_group_settings.parent_resource_id
              location                                                      = var.management_group_settings.location
              policy_default_values                                         = local.policy_default_values
              policy_assignments_to_modify                                  = local.policy_assignments_to_modify
              delays                                                        = try(var.management_group_settings.delays, {})
              enable_telemetry                                              = var.enable_telemetry
              management_group_hierarchy_settings                           = try(var.management_group_settings.management_group_hierarchy_settings, null)
              partner_id                                                    = try(var.management_group_settings.partner_id, null)
              retries                                                       = try(var.management_group_settings.retries, local.default_retries)
              subscription_placement                                        = try(var.management_group_settings.subscription_placement, {})
              timeouts                                                      = try(var.management_group_settings.timeouts, local.default_timeouts)
              dependencies                                                  = var.dependencies
              override_policy_definition_parameter_assign_permissions_set   = try(var.management_group_settings.override_policy_definition_parameter_assign_permissions_set, null)
              override_policy_definition_parameter_assign_permissions_unset = try(var.management_group_settings.override_policy_definition_parameter_assign_permissions_unset, null)
              management_group_role_assignments                             = try(var.management_group_settings.management_group_role_assignments, null)
              role_assignment_definition_lookup_enabled                     = try(var.management_group_settings.role_assignment_definition_lookup_enabled, true)
            }
        EOT
      + file                         = "modules/management_groups/main.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_groups/terraform.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_groups/terraform.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            terraform {
              required_version = "~> 1.9"
            }
        EOT
      + file                         = "modules/management_groups/terraform.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_groups/variables.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_groups/variables.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "management_group_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The settings for the management groups.
            DESCRIPTION
            }

            variable "dependencies" {
              type = object({
                policy_role_assignments = optional(any, null)
                policy_assignments      = optional(any, null)
              })
              default     = {}
              description = <<DESCRIPTION
            Place dependent values into this variable to ensure that resources are created in the correct order.
            Ensure that the values placed here are computed/known after apply, e.g. the resource ids.

            This is necessary as the unknown values and `depends_on` are not supported by this module as we use the alz provider.
            See the "Unknown Values & Depends On" section above for more information.

            e.g.

            ```hcl
            dependencies = {
              policy_role_assignments = [
                module.dependency_example1.output,
                module.dependency_example2.output,
              ]
            }
            ```
            DESCRIPTION
              nullable    = false
            }

            variable "enable_telemetry" {
              type        = bool
              default     = true
              description = <<DESCRIPTION
            This variable controls whether or not telemetry is enabled for the module.
            For more information see <https://aka.ms/avm/telemetryinfo>.
            If it is set to false, then no telemetry will be collected.
            DESCRIPTION
              nullable    = false
            }
        EOT
      + file                         = "modules/management_groups/variables.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_resources/main.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_resources/main.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            module "management_resources" {
              source  = "Azure/avm-ptn-alz-management/azurerm"
              version = "0.7.0"

              automation_account_name                                    = try(var.management_resource_settings.automation_account_name, "aa-management-${var.management_resource_settings.location}")
              location                                                   = var.management_resource_settings.location
              log_analytics_workspace_name                               = try(var.management_resource_settings.log_analytics_workspace_name, "law-management-${var.management_resource_settings.location}")
              resource_group_name                                        = try(var.management_resource_settings.resource_group_name, "rg-management-${var.management_resource_settings.location}")
              automation_account_encryption                              = try(var.management_resource_settings.automation_account_encryption, null)
              automation_account_identity                                = try(var.management_resource_settings.automation_account_identity, null)
              automation_account_local_authentication_enabled            = try(var.management_resource_settings.automation_account_local_authentication_enabled, true)
              automation_account_location                                = try(var.management_resource_settings.automation_account_location, null)
              automation_account_public_network_access_enabled           = try(var.management_resource_settings.automation_account_public_network_access_enabled, true)
              automation_account_sku_name                                = try(var.management_resource_settings.automation_account_sku_name, null)
              data_collection_rules                                      = try(var.management_resource_settings.data_collection_rules, null)
              enable_telemetry                                           = var.enable_telemetry
              linked_automation_account_creation_enabled                 = try(var.management_resource_settings.linked_automation_account_creation_enabled, false)
              log_analytics_solution_plans                               = try(var.management_resource_settings.log_analytics_solution_plans, null)
              log_analytics_workspace_allow_resource_only_permissions    = try(var.management_resource_settings.log_analytics_workspace_allow_resource_only_permissions, true)
              log_analytics_workspace_cmk_for_query_forced               = try(var.management_resource_settings.log_analytics_workspace_cmk_for_query_forced, null)
              log_analytics_workspace_daily_quota_gb                     = try(var.management_resource_settings.log_analytics_workspace_daily_quota_gb, null)
              log_analytics_workspace_internet_ingestion_enabled         = try(var.management_resource_settings.log_analytics_workspace_internet_ingestion_enabled, true)
              log_analytics_workspace_internet_query_enabled             = try(var.management_resource_settings.log_analytics_workspace_internet_query_enabled, true)
              log_analytics_workspace_local_authentication_disabled      = try(var.management_resource_settings.log_analytics_workspace_local_authentication_disabled, false)
              log_analytics_workspace_reservation_capacity_in_gb_per_day = try(var.management_resource_settings.log_analytics_workspace_reservation_capacity_in_gb_per_day, null)
              log_analytics_workspace_retention_in_days                  = try(var.management_resource_settings.log_analytics_workspace_retention_in_days, null)
              log_analytics_workspace_sku                                = try(var.management_resource_settings.log_analytics_workspace_sku, null)
              resource_group_creation_enabled                            = try(var.management_resource_settings.resource_group_creation_enabled, true)
              sentinel_onboarding                                        = try(var.management_resource_settings.sentinel_onboarding, null)
              tags                                                       = try(var.management_resource_settings.tags, var.tags)
              user_assigned_managed_identities                           = try(var.management_resource_settings.user_assigned_managed_identities, null)
            }
        EOT
      + file                         = "modules/management_resources/main.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_resources/outputs.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_resources/outputs.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            output "management_resources" {
              value = module.management_resources
            }
        EOT
      + file                         = "modules/management_resources/outputs.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_resources/terraform.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_resources/terraform.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            terraform {
              required_version = "~> 1.9"
              required_providers {
                azurerm = {
                  source  = "hashicorp/azurerm"
                  version = "~> 4.0"
                }
              }
            }
        EOT
      + file                         = "modules/management_resources/terraform.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["modules/management_resources/variables.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add modules/management_resources/variables.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "management_resource_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The settings for the management resources.
            DESCRIPTION
            }

            variable "enable_telemetry" {
              type        = bool
              default     = true
              description = <<DESCRIPTION
            This variable controls whether or not telemetry is enabled for the module.
            For more information see <https://aka.ms/avm/telemetryinfo>.
            If it is set to false, then no telemetry will be collected.
            DESCRIPTION
              nullable    = false
            }

            variable "tags" {
              type        = map(string)
              default     = null
              description = "(Optional) Tags of the resource."
            }
        EOT
      + file                         = "modules/management_resources/variables.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["outputs.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add outputs.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            output "dns_server_ip_address" {
              value = local.connectivity_enabled ? (local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].dns_server_ip_addresses : module.virtual_wan[0].dns_server_ip_address) : null
            }

            output "hub_and_spoke_vnet_virtual_network_resource_ids" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].virtual_network_resource_ids : null
            }

            output "hub_and_spoke_vnet_virtual_network_resource_names" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].virtual_network_resource_names : null
            }

            output "hub_and_spoke_vnet_firewall_resource_ids" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].firewall_resource_ids : null
            }

            output "hub_and_spoke_vnet_firewall_resource_names" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].firewall_resource_names : null
            }

            output "hub_and_spoke_vnet_firewall_private_ip_address" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].firewall_private_ip_addresses : null
            }

            output "hub_and_spoke_vnet_firewall_public_ip_addresses" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].firewall_public_ip_addresses : null
            }

            output "hub_and_spoke_vnet_firewall_policy_ids" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].firewall_policy_ids : null
            }

            output "hub_and_spoke_vnet_route_tables_firewall" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].route_tables_firewall : null
            }

            output "hub_and_spoke_vnet_route_tables_user_subnets" {
              value = local.connectivity_hub_and_spoke_vnet_enabled ? module.hub_and_spoke_vnet[0].route_tables_user_subnets : null
            }

            output "virtual_wan_resource_id" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].resource_id : null
            }

            output "virtual_wan_name" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].name : null
            }

            output "virtual_wan_virtual_hub_resource_ids" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].virtual_hub_resource_ids : null
            }

            output "virtual_wan_virtual_hub_resource_names" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].virtual_hub_resource_names : null
            }

            output "virtual_wan_firewall_resource_ids" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].firewall_resource_ids : null
            }

            output "virtual_wan_firewall_resource_names" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].firewall_resource_names : null
            }

            output "virtual_wan_firewall_private_ip_address" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].firewall_private_ip_address : null
            }

            output "virtual_wan_firewall_public_ip_addresses" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].firewall_public_ip_addresses : null
            }

            output "virtual_wan_firewall_policy_ids" {
              value = local.connectivity_virtual_wan_enabled ? module.virtual_wan[0].firewall_policy_resource_ids : null
            }

            output "templated_inputs" {
              value = module.config
            }
        EOT
      + file                         = "outputs.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["platform-landing-zone.auto.tfvars"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add platform-landing-zone.auto.tfvars [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            /*
            -- customizations done for BDO --
            Turn off DDOS protection plan - https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/options/ddos/
            Turn off Bastion - https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/options/bastion/
            Turn off Defender plans - https://azure.github.io/Azure-Landing-Zones/accelerator/startermodules/terraform-platform-landing-zone/options/defender/


            --- Built-in Replacements ---
            This file contains built-in replacements to avoid repeating the same hard-coded values.
            Replacements are denoted by the dollar-dollar curly braces token (e.g. $${starter_location_01}). The following details each built-in replacemnets that you can use:
            `starter_location_01`: This the primary an Azure location sourced from the `starter_locations` variable. This can be used to set the location of resources.
            `starter_location_02` to `starter_location_10`: These are the secondary Azure locations sourced from the `starter_locations` variable. This can be used to set the location of resources.
            `starter_location_01_availability_zones` to `starter_location_10_availability_zones`: These are the availability zones for the Azure locations sourced from the `starter_locations` variable. This can be used to set the availability zones of resources.
            `starter_location_01_virtual_network_gateway_sku_express_route` to `starter_location_10_virtual_network_gateway_sku_express_route`: These are the default SKUs for the Express Route virtual network gateways based on the Azure locations sourced from the `starter_locations` variable. This can be used to set the SKU of the virtual network gateways.
            `starter_location_01_virtual_network_gateway_sku_vpn` to `starter_location_10_virtual_network_gateway_sku_vpn`: These are the default SKUs for the VPN virtual network gateways based on the Azure locations sourced from the `starter_locations` variable. This can be used to set the SKU of the virtual network gateways.
            `root_parent_management_group_id`: This is the id of the management group that the ALZ hierarchy will be nested under.
            `subscription_id_identity`: The subscription ID of the subscription to deploy the identity resources to, sourced from the variable `subscription_id_identity`.
            `subscription_id_connectivity`: The subscription ID of the subscription to deploy the connectivity resources to, sourced from the variable `subscription_id_connectivity`.
            `subscription_id_management`: The subscription ID of the subscription to deploy the management resources to, sourced from the variable `subscription_id_management`.
            */

            /*
            --- Custom Replacements ---
            You can define custom replacements to use throughout the configuration.
            */
            custom_replacements = {
              /*
              --- Custom Name Replacements ---
              You can define custom names and other strings to use throughout the configuration.
              You can only use the built in replacements in this section.
              NOTE: You cannot refer to another custom name in this variable.
              */
              names = {
                # Defender email security contact
                defender_email_security_contact = "caingat.mariojr@bdo.com.ph"

                # Resource group names
                management_resource_group_name               = "terraform-alz-npd-management-$${starter_location_01}"
                connectivity_hub_vwan_resource_group_name    = "terraform-alz-npd-hub-vwan-$${starter_location_01}"
                connectivity_hub_primary_resource_group_name = "terraform-alz-npd-hub1-$${starter_location_01}"
                # connectivity_hub_secondary_resource_group_name = "terraform-alz-npd-hub2-$${starter_location_02}"
                # dns_resource_group_name                      = "terraform-alz-npd-hub-dns-$${starter_location_01}"
                # ddos_resource_group_name                     = "terraform-alz-npd-hub-ddos-$${starter_location_01}"
                asc_export_resource_group_name = "terraform-alz-npd-asc-export-$${starter_location_01}"

                # Resource names
                log_analytics_workspace_name = "terraform-alz-npd-law-management-$${starter_location_01}"
                # ddos_protection_plan_name               = "terraform-alz-npd-ddos-$${starter_location_01}"
                # automation_account_name                 = terraform-alz-npd-aa-management-$${starter_location_01}"
                ama_user_assigned_managed_identity_name = "terraform-alz-npd-uami-management-ama-$${starter_location_01}"
                dcr_change_tracking_name                = "terraform-alz-npd-dcr-change-tracking"
                dcr_defender_sql_name                   = "terraform-alz-npd-dcr-defender-sql"
                dcr_vm_insights_name                    = "terraform-alz-npd-6dcr-vm-insights"

                # Resource names primary connectivity
                primary_hub_name                                   = "terraform-alz-npd-vwan-hub1-$${starter_location_01}"
                primary_sidecar_virtual_network_name               = "terraform-alz-npd-vnet-sidecar1-$${starter_location_01}"
                primary_firewall_name                              = "terraform-alz-npd-fw-hub1-$${starter_location_01}"
                primary_firewall_policy_name                       = "terraform-alz-npd-fwp-hub1-$${starter_location_01}"
                primary_virtual_network_gateway_express_route_name = "terraform-alz-npd-vgw-hub1-er-$${starter_location_01}"
                # primary_virtual_network_gateway_vpn_name           = "terraform-alz-npd-vgw-hub1-vpn-$${starter_location_01}"
                # primary_private_dns_resolver_name                  = "terraform-alz-npd-pdr-hub1-dns-$${starter_location_01}"
                # primary_bastion_host_name                          = "terraform-alz-npd-bas-hub-$${starter_location_01}"
                # primary_bastion_host_public_ip_name                = "terraform-alz-npd-pip-bastion-hub-$${starter_location_01}"

                # Resource names primary secondary
                # secondary_hub_name                                   = "terraform-alz-npd-vwan-hub2-$${starter_location_02}"
                # secondary_sidecar_virtual_network_name               = "terraform-alz-npd-vnet-sidecar2-$${starter_location_02}"
                # secondary_firewall_name                              = "terraform-alz-npd-fw-hub2-$${starter_location_02}"
                # secondary_firewall_policy_name                       = "terraform-alz-npd-fwp-hub2-$${starter_location_02}"
                # secondary_virtual_network_gateway_express_route_name = "terraform-alz-npd-vgw-hub2-er-$${starter_location_02}"
                # secondary_virtual_network_gateway_vpn_name           = "terraform-alz-npd-vgw-hub2-vpn-$${starter_location_02}"
                # secondary_private_dns_resolver_name                  = "terraform-alz-npd-pdr-hub2-dns-$${starter_location_02}"

                # Private DNS Zones primary
                # primary_auto_registration_zone_name = "$${starter_location_01}.azure.local"

                # Private DNS Zones secondary
                # secondary_auto_registration_zone_name = "$${starter_location_02}.azure.local"

                # IP Ranges Primary
                # Regional Address Space: 10.0.0.0/16
                primary_hub_address_space                      = "10.0.0.0/22"
                primary_side_car_virtual_network_address_space = "10.0.4.0/22"
                # primary_bastion_subnet_address_prefix              = "10.0.4.0/26"
                # primary_private_dns_resolver_subnet_address_prefix = "10.0.4.64/28"

                # IP Ranges Secondary
                # Regional Address Space: 10.1.0.0/16
                # secondary_hub_address_space                          = "10.1.0.0/22"
                # secondary_side_car_virtual_network_address_space     = "10.1.4.0/22"
                # primary_bastion_subnet_address_prefix              = "10.0.4.0/26"
                # secondary_private_dns_resolver_subnet_address_prefix = "10.1.4.64/28"

              }

              /*
              --- Custom Resource Group Identifier Replacements ---
              You can define custom resource group identifiers to use throughout the configuration.
              You can only use the templated variables and custom names in this section.
              NOTE: You cannot refer to another custom resource group identifier in this variable.
              */
              resource_group_identifiers = {
                management_resource_group_id = "/subscriptions/$${subscription_id_management}/resourcegroups/$${management_resource_group_name}"
                # ddos_protection_plan_resource_group_id = "/subscriptions/$${subscription_id_connectivity}/resourcegroups/$${ddos_resource_group_name}"
              }

              /*
              --- Custom Resource Identifier Replacements ---
              You can define custom resource identifiers to use throughout the configuration.
              You can only use the templated variables, custom names and customer resource group identifiers in this variable.
              NOTE: You cannot refer to another custom resource identifier in this variable.
              */
              resource_identifiers = {
                ama_change_tracking_data_collection_rule_id = "$${management_resource_group_id}/providers/Microsoft.Insights/dataCollectionRules/$${dcr_change_tracking_name}"
                ama_mdfc_sql_data_collection_rule_id        = "$${management_resource_group_id}/providers/Microsoft.Insights/dataCollectionRules/$${dcr_defender_sql_name}"
                ama_vm_insights_data_collection_rule_id     = "$${management_resource_group_id}/providers/Microsoft.Insights/dataCollectionRules/$${dcr_vm_insights_name}"
                ama_user_assigned_managed_identity_id       = "$${management_resource_group_id}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/$${ama_user_assigned_managed_identity_name}"
                log_analytics_workspace_id                  = "$${management_resource_group_id}/providers/Microsoft.OperationalInsights/workspaces/$${log_analytics_workspace_name}"
                # ddos_protection_plan_id                     = "$${ddos_protection_plan_resource_group_id}/providers/Microsoft.Network/ddosProtectionPlans/$${ddos_protection_plan_name}"
              }
            }

            enable_telemetry = true

            /*
            --- Tags ---
            This variable can be used to apply tags to all resources that support it. Some resources allow overriding these tags.
            */
            tags = {
              deployed_by = "terraform"
              source      = "terraform-alz-npd- Azure Landing Zones Accelerator"
            }

            /*
            --- Management Resources ---
            You can use this section to customize the management resources that will be deployed.
            */
            management_resource_settings = {
              # automation_account_name      = "$${automation_account_name}"
              location                     = "$${starter_location_01}"
              log_analytics_workspace_name = "$${log_analytics_workspace_name}"
              resource_group_name          = "$${management_resource_group_name}"
              user_assigned_managed_identities = {
                ama = {
                  name = "$${ama_user_assigned_managed_identity_name}"
                }
              }
              data_collection_rules = {
                change_tracking = {
                  name = "$${dcr_change_tracking_name}"
                }
                defender_sql = {
                  name = "$${dcr_defender_sql_name}"
                }
                vm_insights = {
                  name = "$${dcr_vm_insights_name}"
                }
              }
            }

            /*
            --- Management Groups and Policy ---
            You can use this section to customize the management groups and policies that will be deployed.
            You can further configure management groups and policy by supplying a `lib` folder. This is detailed in the Accelerator documentation.
            */
            management_group_settings = {
              location           = "$${starter_location_01}"
              parent_resource_id = "$${root_parent_management_group_id}"
              policy_default_values = {
                ama_change_tracking_data_collection_rule_id = "$${ama_change_tracking_data_collection_rule_id}"
                ama_mdfc_sql_data_collection_rule_id        = "$${ama_mdfc_sql_data_collection_rule_id}"
                ama_vm_insights_data_collection_rule_id     = "$${ama_vm_insights_data_collection_rule_id}"
                ama_user_assigned_managed_identity_id       = "$${ama_user_assigned_managed_identity_id}"
                ama_user_assigned_managed_identity_name     = "$${ama_user_assigned_managed_identity_name}"
                log_analytics_workspace_id                  = "$${log_analytics_workspace_id}"
                # ddos_protection_plan_id                     = "$${ddos_protection_plan_id}"
                # private_dns_zone_subscription_id            = "$${subscription_id_connectivity}"
                # private_dns_zone_region                     = "$${starter_location_01}"
                # private_dns_zone_resource_group_name        = "$${dns_resource_group_name}"
              }
              subscription_placement = {
                /*
                identity = {
                  subscription_id       = "$${subscription_id_identity}"
                  management_group_name = "identity"
                }
                */
                connectivity = {
                  subscription_id       = "$${subscription_id_connectivity}"
                  management_group_name = "mg-platform-connectivity-npd"
                }
                management = {
                  subscription_id       = "$${subscription_id_management}"
                  management_group_name = "mg-platform-management-npd"
                }
              }
              policy_assignments_to_modify = {
                mg-alz-root-npd = {
                  policy_assignments = {
                    Deploy-MDFC-Config-H224 = {
                      parameters = {
                        ascExportResourceGroupName                  = "$${asc_export_resource_group_name}"
                        ascExportResourceGroupLocation              = "$${starter_location_01}"
                        emailSecurityContact                        = "$${defender_email_security_contact}"
                        enableAscForServers                         = "Disabled"
                        enableAscForServersVulnerabilityAssessments = "Disabled"
                        enableAscForSql                             = "Disabled"
                        enableAscForAppServices                     = "Disabled"
                        enableAscForStorage                         = "Disabled"
                        enableAscForContainers                      = "Disabled"
                        enableAscForKeyVault                        = "Disabled"
                        enableAscForSqlOnVm                         = "Disabled"
                        enableAscForArm                             = "Disabled"
                        enableAscForOssDb                           = "Disabled"
                        enableAscForCosmosDbs                       = "Disabled"
                        enableAscForCspm                            = "Disabled"
                      },
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-AzActivity-Log = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDEndpointsAMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-OssDb = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-SqlAtp = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ACSB = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    RE-01-Zonal-Residency = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    SO-01-Data-Residency = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    SO-04-CMK = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    TR-01-Logging = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-platform-npd = {
                  policy_assignments = {
                    DenyAction-DeleteUAMIAMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-DefSQL-AMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-AUM-CheckUpdates = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ASR = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-GR-KeyVault = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Subnet-Private = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                # Example of how to update a policy assignment enforcement mode for DDOS Protection Plan
                mg-platform-connectivity-npd = {
                  policy_assignments = {
                    Enable-DDoS-VNET = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-landingzones-dev = {
                  policy_assignments = {
                    Deny-IP-forwarding = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-MgmtPorts-Internet = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Priv-Esc-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Privileged-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Storage-http = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Subnet-Without-Nsg = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-AzSqlDb-Auditing = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-DefSQL-AMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-TDE = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-Threat = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Backup = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-AUM-CheckUpdates = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-DDoS-VNET = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-AKS-HTTPS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ASR = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-GR-KeyVault = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Subnet-Private = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-TLS-SSL-Q225 = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Audit-PeDnsZones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-HybridNetworking = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-Endpoints = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-IP-On-NIC = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-Private-DNS-Zones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Fsi-Conf = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-landingzones-ppd = {
                  policy_assignments = {
                    Deny-IP-forwarding = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-MgmtPorts-Internet = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Priv-Esc-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Privileged-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Storage-http = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Subnet-Without-Nsg = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-AzSqlDb-Auditing = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-DefSQL-AMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-TDE = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-Threat = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Backup = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-AUM-CheckUpdates = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-DDoS-VNET = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-AKS-HTTPS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ASR = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-GR-KeyVault = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Subnet-Private = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-TLS-SSL-Q225 = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Audit-PeDnsZones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-HybridNetworking = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-Endpoints = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-IP-On-NIC = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-Private-DNS-Zones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Fsi-Conf = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-landingzones-sit = {
                  policy_assignments = {
                    Deny-IP-forwarding = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-MgmtPorts-Internet = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Priv-Esc-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Privileged-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Storage-http = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Subnet-Without-Nsg = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-AzSqlDb-Auditing = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-DefSQL-AMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-TDE = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-Threat = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Backup = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-AUM-CheckUpdates = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-DDoS-VNET = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-AKS-HTTPS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ASR = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-GR-KeyVault = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Subnet-Private = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-TLS-SSL-Q225 = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Audit-PeDnsZones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-HybridNetworking = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-Endpoints = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-IP-On-NIC = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-Private-DNS-Zones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Fsi-Conf = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-landingzones-uat = {
                  policy_assignments = {
                    Deny-IP-forwarding = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-MgmtPorts-Internet = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Priv-Esc-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Privileged-AKS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Storage-http = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Subnet-Without-Nsg = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-AzSqlDb-Auditing = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-MDFC-DefSQL-AMA = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-TDE = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-SQL-Threat = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Backup = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VM-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-ChangeTrack = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-VMSS-Monitoring = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-AUM-CheckUpdates = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enable-DDoS-VNET = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-AKS-HTTPS = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-ASR = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-GR-KeyVault = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Subnet-Private = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-TLS-SSL-Q225 = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Audit-PeDnsZones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-HybridNetworking = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-Endpoints = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deny-Public-IP-On-NIC = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Deploy-Private-DNS-Zones = {
                      enforcement_mode = "DoNotEnforce"
                    },
                    Enforce-Fsi-Conf = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-sandbox = {
                  policy_assignments = {
                    Enforce-ALZ-Sandbox = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                mg-decom-npd = {
                  policy_assignments = {
                    Enforce-ALZ-Decomm = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }

                /*
                # Example of how to update a policy assignment enforcement mode for Private Link DNS Zones
                corp = {
                  policy_assignments = {
                    Deploy-Private-DNS-Zones = {
                      enforcement_mode = "DoNotEnforce"
                    }
                  }
                }
                */
              }
              /*
              # Example of how to add management group role assignments
              management_group_role_assignments = {
                root_owner_role_assignment = {
                  management_group_name      = "root"
                  role_definition_id_or_name = "Owner"
                  principal_id               = "00000000-0000-0000-0000-000000000000"
                }
              }
              */
            }

            /*
            --- Connectivity - Virtual WAN ---
            You can use this section to customize the virtual wan networking that will be deployed.
            */
            # connectivity_type = "virtual_wan"
            connectivity_type = "none"

            # connectivity_resource_groups = {

            #   # ddos = {
            #   #   name     = "$${ddos_resource_group_name}"
            #   #   location = "$${starter_location_01}"
            #   # }

            #   vwan = {
            #     name     = "$${connectivity_hub_vwan_resource_group_name}"
            #     location = "$${starter_location_01}"
            #   }
            #   vwan_hub_primary = {
            #     name     = "$${connectivity_hub_primary_resource_group_name}"
            #     location = "$${starter_location_01}"
            #   }
            #   # vwan_hub_secondary = {
            #   #   name     = "$${connectivity_hub_secondary_resource_group_name}"
            #   #   location = "$${starter_location_02}"
            #   # }
            #   # dns = {
            #   #   name     = "$${dns_resource_group_name}"
            #   #   location = "$${starter_location_01}"
            #   # }
            # }



            # virtual_wan_settings = {
            #   name                = "vwan-$${starter_location_01}"
            #   resource_group_name = "$${connectivity_hub_vwan_resource_group_name}"
            #   location            = "$${starter_location_01}"

            #   # ddos_protection_plan = {
            #   #   name                = "$${ddos_protection_plan_name}"
            #   #   resource_group_name = "$${ddos_resource_group_name}"
            #   #   location            = "$${starter_location_01}"
            #   # }

            # }



            # virtual_wan_virtual_hubs = {
            #   primary = {
            #     hub = {
            #       name           = "$${primary_hub_name}"
            #       resource_group = "$${connectivity_hub_primary_resource_group_name}"
            #       location       = "$${starter_location_01}"
            #       address_prefix = "$${primary_hub_address_space}"
            #     }
            #     firewall = {
            #       name     = "$${primary_firewall_name}"
            #       sku_name = "AZFW_Hub"
            #       sku_tier = "Standard"
            #       zones    = "$${starter_location_01_availability_zones}"
            #     }
            #     firewall_policy = {
            #       name = "$${primary_firewall_policy_name}"
            #     }
            #     virtual_network_gateways = {
            #       express_route = {
            #         name = "$${primary_virtual_network_gateway_express_route_name}"
            #       }
            #       # vpn = {
            #       #   name = "$${primary_virtual_network_gateway_vpn_name}"
            #       # }
            #     }
            #     # private_dns_zones = {
            #     #   resource_group_name            = "$${dns_resource_group_name}"
            #     #   is_primary                     = true
            #     #   auto_registration_zone_enabled = true
            #     #   auto_registration_zone_name    = "$${primary_auto_registration_zone_name}"
            #     #   subnet_address_prefix          = "$${primary_private_dns_resolver_subnet_address_prefix}"
            #     #   private_dns_resolver = {
            #     #     name = "$${primary_private_dns_resolver_name}"
            #     #   }
            #     # }

            #     # bastion = {
            #     #   subnet_address_prefix = "$${primary_bastion_subnet_address_prefix}"
            #     #   bastion_host = {
            #     #     name = "$${primary_bastion_host_name}"
            #     #   }
            #     #   bastion_public_ip = {
            #     #     name  = "$${primary_bastion_host_public_ip_name}"
            #     #     zones = "$${starter_location_01_availability_zones}"
            #     #   }
            #     # }

            #     side_car_virtual_network = {
            #       name          = "$${primary_sidecar_virtual_network_name}"
            #       address_space = ["$${primary_side_car_virtual_network_address_space}"]
            #     }
            #   }
            #   # secondary = {
            #   #   hub = {
            #   #     name = "$${secondary_hub_name}"

            #   #     resource_group = "$${connectivity_hub_secondary_resource_group_name}"
            #   #     location       = "$${starter_location_02}"
            #   #     address_prefix = "$${secondary_hub_address_space}"
            #   #   }
            #   #   firewall = {
            #   #     name     = "$${secondary_firewall_name}"
            #   #     sku_name = "AZFW_Hub"
            #   #     sku_tier = "Standard"
            #   #     zones    = "$${starter_location_02_availability_zones}"
            #   #   }
            #   #   firewall_policy = {
            #   #     name = "$${secondary_firewall_policy_name}"
            #   #   }

            #   #   virtual_network_gateways = {
            #   #     express_route = {
            #   #       name = "$${secondary_virtual_network_gateway_express_route_name}"
            #   #     }
            #   #     vpn = {
            #   #       name = "$${secondary_virtual_network_gateway_vpn_name}"
            #   #     }
            #   #   }

            #   #   private_dns_zones = {
            #   #     resource_group_name            = "$${dns_resource_group_name}"
            #   #     is_primary                     = false
            #   #     auto_registration_zone_enabled = true
            #   #     auto_registration_zone_name    = "$${secondary_auto_registration_zone_name}"
            #   #     subnet_address_prefix          = "$${secondary_private_dns_resolver_subnet_address_prefix}"
            #   #     private_dns_resolver = {
            #   #       name = "$${secondary_private_dns_resolver_name}"
            #   #     }
            #   #   }

            #   #   bastion = {
            #   #     subnet_address_prefix = "$${secondary_bastion_subnet_address_prefix}"
            #   #     bastion_host = {
            #   #       name = "$${secondary_bastion_host_name}"
            #   #     }
            #   #     bastion_public_ip = {
            #   #       name  = "$${secondary_bastion_host_public_ip_name}"
            #   #       zones = "$${starter_location_02_availability_zones}"
            #   #     }
            #   #   }

            #   #   side_car_virtual_network = {
            #   #     name          = "$${secondary_sidecar_virtual_network_name}"
            #   #     address_space = ["$${secondary_side_car_virtual_network_address_space}"]
            #   #   }
            #   # }
            # }
        EOT
      + file                         = "platform-landing-zone.auto.tfvars"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["terraform.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add terraform.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            terraform {
              required_version = "~> 1.9"
              required_providers {
                alz = {
                  source  = "Azure/alz"
                  version = "~> 0.16"
                }
                azurerm = {
                  source  = "hashicorp/azurerm"
                  version = "~> 4.0"
                }
                azapi = {
                  source  = "Azure/azapi"
                  version = "~> 2.0"
                }
                local = {
                  source  = "hashicorp/local"
                  version = "~> 2.5"
                }
              }
              backend "azurerm" {}
            }

            provider "alz" {
              library_overwrite_enabled = true
              library_references = [
                {
                  custom_url = "${path.root}/lib"
                }
              ]
            }

            provider "azapi" {
              skip_provider_registration = true
              subscription_id            = var.subscription_id_management
            }

            provider "azurerm" {
              resource_provider_registrations = "none"
              features {
                resource_group {
                  prevent_deletion_if_contains_resources = false
                }
              }
            }

            provider "azurerm" {
              resource_provider_registrations = "none"
              alias                           = "management"
              subscription_id                 = var.subscription_id_management
              features {
                resource_group {
                  prevent_deletion_if_contains_resources = false
                }
              }
            }

            provider "azurerm" {
              resource_provider_registrations = "none"
              alias                           = "connectivity"
              subscription_id                 = var.subscription_id_connectivity
              features {
                resource_group {
                  prevent_deletion_if_contains_resources = false
                }
              }
            }
        EOT
      + file                         = "terraform.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["terraform.tfvars.json"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add terraform.tfvars.json [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = jsonencode(
            {
              + connectivity_resource_groups        = {}
              + hub_and_spoke_vnet_settings         = {}
              + hub_and_spoke_vnet_virtual_networks = {}
              + root_parent_management_group_id     = "mg-alz-root"
              + starter_locations                   = [
                  + "southeastasia",
                  + "southeastasia",
                ]
              + subscription_id_connectivity        = "febe0021-db13-40ad-9ad6-84f8dfe895e1"
              + subscription_id_identity            = "deb894b8-43ce-4016-924d-e86796e2479b"
              + subscription_id_management          = "01d71649-9943-4b0b-a20d-f012fdc62c93"
              + virtual_wan_settings                = {}
              + virtual_wan_virtual_hubs            = {}
            }
        )
      + file                         = "terraform.tfvars.json"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["variables.connectivity.hub.and.spoke.virtual.network.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add variables.connectivity.hub.and.spoke.virtual.network.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "hub_and_spoke_vnet_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The shared settings for the hub and spoke networks. This is where global resources are defined.

            The following attributes are supported:

              - ddos_protection_plan: (Optional) The DDoS protection plan settings. Detailed information about the DDoS protection plan can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-ddosprotectionplan

            DESCRIPTION
            }

            variable "hub_and_spoke_vnet_virtual_networks" {
              type = map(object({
                hub_virtual_network = any
                virtual_network_gateways = optional(object({
                  subnet_address_prefix                  = string
                  subnet_default_outbound_access_enabled = optional(bool, false)
                  express_route                          = optional(any)
                  vpn                                    = optional(any)
                }))
                private_dns_zones = optional(any)
                bastion           = optional(any)
              }))
              default     = {}
              description = <<DESCRIPTION
            A map of hub networks to create.

            The following attributes are supported:

              - hub_virtual_network: The hub virtual network settings. Detailed information about the hub virtual network can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-hubnetworking
              - virtual_network_gateways: (Optional) The virtual network gateway settings. Detailed information about the virtual network gateway can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-vnetgateway
              - private_dns_zones: (Optional) The private DNS zone settings. Detailed information about the private DNS zone can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-network-private-link-private-dns-zones
              - bastion: (Optional) The bastion host settings. Detailed information about the bastion can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-res-network-bastionhost/

            DESCRIPTION
            }
        EOT
      + file                         = "variables.connectivity.hub.and.spoke.virtual.network.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["variables.connectivity.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add variables.connectivity.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "connectivity_type" {
              type        = string
              description = "The type of network connectivity technology to use for the private DNS zones"
              default     = "hub_and_spoke_vnet"
              validation {
                condition     = contains(values(local.const.connectivity), var.connectivity_type)
                error_message = "The connectivity type must be either 'hub_and_spoke_vnet', 'virtual_wan' or 'none'"
              }
            }

            variable "connectivity_resource_groups" {
              type = map(object({
                name     = string
                location = string
                tags     = optional(map(string))
                settings = optional(any)
              }))
              default     = {}
              description = <<DESCRIPTION
            A map of resource groups to create. These must be created before the connectivity module is applied.

            The following attributes are supported:

              - name: The name of the resource group
              - location: The location of the resource group
              - settings: (Optional) An object, which can include an `enabled` setting value that indicates whether the resource group should be created.

            DESCRIPTION
            }
        EOT
      + file                         = "variables.connectivity.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["variables.connectivity.virtual.wan.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add variables.connectivity.virtual.wan.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "virtual_wan_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The shared settings for the Virtual WAN. This is where global resources are defined.

            The following attributes are supported:

              - ddos_protection_plan: (Optional) The DDoS protection plan settings. Detailed information about the DDoS protection plan can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-ddosprotectionplan

            The Virtual WAN module attributes are also supported. Detailed information about the Virtual WAN module variables can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-virtualwan

            DESCRIPTION
            }

            variable "virtual_wan_virtual_hubs" {
              type = map(object({
                hub               = any
                firewall          = optional(any)
                firewall_policy   = optional(any)
                private_dns_zones = optional(any)
                bastion           = optional(any)
                virtual_network_gateways = optional(object({
                  express_route = optional(any)
                  vpn           = optional(any)
                }))
                side_car_virtual_network = optional(any)
              }))
              default     = {}
              description = <<DESCRIPTION
            A map of virtual hubs to create.

            The following attributes are supported:

              - hub: The virtual hub settings. Detailed information about the virtual hub can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-virtualwan
              - firewall: (Optional) The firewall settings. Detailed information about the firewall can be found in the Virtual WAN module's README: https://registry.terraform.io/modules/Azure/avm-ptn-virtualwan
              - firewall_policy: (Optional) The firewall policy settings. Detailed information about the firewall policy can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-firewall-policy
              - private_dns_zones: (Optional) The private DNS zone settings. Detailed information about the private DNS zone can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-ptn-network-private-link-private-dns-zones
              - bastion: (Optional) The bastion host settings. Detailed information about the bastion can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-res-network-bastionhost/
              - virtual_network_gateways: (Optional) The virtual network gateway settings. Detailed information about the virtual network gateway can be found in the Virtual WAN module's README: https://registry.terraform.io/modules/Azure/avm-ptn-virtualwan
              - side_car_virtual_network: (Optional) The side car virtual network settings. Detailed information about the side car virtual network can be found in the module's README: https://registry.terraform.io/modules/Azure/avm-res-network-virtualnetwork

            DESCRIPTION
            }
        EOT
      + file                         = "variables.connectivity.virtual.wan.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["variables.management.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add variables.management.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "management_resource_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The settings for the management resources. Details of the settings can be found in the module documentation at https://registry.terraform.io/modules/Azure/avm-ptn-alz-management
            DESCRIPTION
            }

            variable "management_group_settings" {
              type        = any
              default     = {}
              description = <<DESCRIPTION
            The settings for the management groups. Details of the settings can be found in the module documentation at https://registry.terraform.io/modules/Azure/avm-ptn-alz
            DESCRIPTION
            }
        EOT
      + file                         = "variables.management.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz["variables.tf"] will be created
  + resource "github_repository_file" "alz" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add variables.tf [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = <<-EOT
            variable "starter_locations" {
              type        = list(string)
              description = "The default for Azure resources. (e.g 'uksouth')"
              validation {
                condition     = length(var.starter_locations) > 0
                error_message = "You must provide at least one starter location region."
              }
              validation {
                condition     = var.connectivity_type == "none" || ((length(var.virtual_wan_virtual_hubs) <= length(var.starter_locations)) || (length(var.hub_and_spoke_vnet_virtual_networks) <= length(var.starter_locations)))
                error_message = "The number of regions supplied in `starter_locations` must match the number of regions specified for connectivity."
              }
            }

            variable "subscription_id_connectivity" {
              type        = string
              description = "value of the subscription id for the Connectivity subscription"
              validation {
                condition     = can(regex("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$", var.subscription_id_connectivity))
                error_message = "You must provide a valid GUID for the Connectivity subscription ID."
              }
            }

            variable "subscription_id_identity" {
              type        = string
              description = "value of the subscription id for the Identity subscription"
              validation {
                condition     = can(regex("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$", var.subscription_id_identity))
                error_message = "You must provide a valid GUID for the Identity subscription ID."
              }
            }

            variable "subscription_id_management" {
              type        = string
              description = "value of the subscription id for the Management subscription"
              validation {
                condition     = can(regex("^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$", var.subscription_id_management))
                error_message = "You must provide a valid GUID for the Management subscription ID."
              }
            }

            variable "root_parent_management_group_id" {
              type        = string
              default     = ""
              description = "This is the id of the management group that the ALZ hierarchy will be nested under, will default to the Tenant Root Group"
            }

            variable "enable_telemetry" {
              type        = bool
              default     = true
              description = "Flag to enable/disable telemetry"
            }

            variable "custom_replacements" {
              type = object({
                names                      = optional(map(string), {})
                resource_group_identifiers = optional(map(string), {})
                resource_identifiers       = optional(map(string), {})
              })
              default = {
                names                      = {}
                resource_group_identifiers = {}
                resource_identifiers       = {}
              }
              description = "Custom replacements"
            }

            variable "tags" {
              type        = map(string)
              default     = null
              description = "(Optional) Tags of the resource."
            }
        EOT
      + file                         = "variables.tf"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz_templates[".github/workflows/cd-template.yaml"] will be created
  + resource "github_repository_file" "alz_templates" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add .github/workflows/cd-template.yaml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = (known after apply)
      + file                         = ".github/workflows/cd-template.yaml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_repository_file.alz_templates[".github/workflows/ci-template.yaml"] will be created
  + resource "github_repository_file" "alz_templates" {
      + autocreate_branch_source_sha = (known after apply)
      + commit_author                = "caingat.mariojr@bdo.com.ph"
      + commit_email                 = "caingat.mariojr@bdo.com.ph"
      + commit_message               = "Add .github/workflows/ci-template.yaml [skip ci]"
      + commit_sha                   = (known after apply)
      + content                      = (known after apply)
      + file                         = ".github/workflows/ci-template.yaml"
      + id                           = (known after apply)
      + overwrite_on_create          = true
      + ref                          = (known after apply)
      + repository                   = (known after apply)
      + sha                          = (known after apply)
    }

  # module.github.github_team.alz will be created
  + resource "github_team" "alz" {
      + create_default_maintainer = false
      + description               = "Approvers for the Landing Zone Terraform Apply"
      + etag                      = (known after apply)
      + id                        = (known after apply)
      + members_count             = (known after apply)
      + name                      = (known after apply)
      + node_id                   = (known after apply)
      + parent_team_read_id       = (known after apply)
      + parent_team_read_slug     = (known after apply)
      + privacy                   = "closed"
      + slug                      = (known after apply)
    }

  # module.github.github_team_membership.alz["caingat-mariojr"] will be created
  + resource "github_team_membership" "alz" {
      + etag     = (known after apply)
      + id       = (known after apply)
      + role     = "member"
      + team_id  = (known after apply)
      + username = "caingat-mariojr"
    }

  # module.github.github_team_repository.alz will be created
  + resource "github_team_repository" "alz" {
      + etag       = (known after apply)
      + id         = (known after apply)
      + permission = "push"
      + repository = (known after apply)
      + team_id    = (known after apply)
    }

  # module.resource_names.random_string.alz will be created
  + resource "random_string" "alz" {
      + id          = (known after apply)
      + length      = 4
      + lower       = true
      + min_lower   = 0
      + min_numeric = 0
      + min_special = 0
      + min_upper   = 0
      + number      = false
      + numeric     = false
      + result      = (known after apply)
      + special     = false
      + upper       = false
    }

  # module.azure.module.regions.modtm_telemetry.telemetry[0] will be created
  + resource "modtm_telemetry" "telemetry" {
      + ephemeral_number = (known after apply)
      + id               = (known after apply)
      + nonce            = (known after apply)
      + tags             = {
          + "module_source"   = "registry.terraform.io/Azure/avm-utl-regions/azurerm"
          + "module_version"  = "0.3.0"
          + "random_id"       = (known after apply)
          + "subscription_id" = "01d71649-9943-4b0b-a20d-f012fdc62c93"
          + "tenant_id"       = "15b69801-7caa-47d0-a4fb-5bbc34728472"
        }
    }

  # module.azure.module.regions.random_uuid.telemetry[0] will be created
  + resource "random_uuid" "telemetry" {
      + id     = (known after apply)
      + result = (known after apply)
    }

Plan: 201 to add, 0 to change, 0 to destroy.